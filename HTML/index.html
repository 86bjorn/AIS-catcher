<!doctype html>
<html>
<head>

<title>AIS-catcher</title>

<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="apple-touch-icon" href="favicon.ico">

<script src="https://kit.fontawesome.com/296bfd8db6.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>

<style>

    :root {
        --primary-color: #0857b1;
        --secondary-color: #12a5ed;
        --tertiary-color: #0b1033;
        --panel-color: #f2f8ff;
        --ok-color: rgb(129, 244, 129);
        --error-color: red;
        --header-color: var(--primary-color);
        --header-title-color:  #0e6cd8;
        --selection-color: orange;
        --mainspace-color: white;
        --backdrop-color: #f5f7fa;
        --focus-color: red;
        --light-gray: lightgray;
        --header-font-color: white;
        --menu-background-color: white;
        --menu-background-hover-color: #daebfe;
        --menu-font-color: dimgrey;
        --mainspace-container-color: lightgrey;
        --shipcard-footer-background-color: var(--tertiary-color);
        --shipcard-footer-hover-color: var(--primary-color);
        --chart1-color: rgba(93, 169, 213, 0.9);
        --chart2-color: rgba(157, 93, 213,0.9);
        --chart3-color: rgba(93, 213, 97,0.9);
        --chart4-color: rgba(213, 157, 93,0.9);
        --chart5-color: rgba(93, 213, 154,0.9);
        --hover-transform: scale(0.93);
        --hover-transition: transform ease-out 0.2s, background 0.4s;
        --hover-background: rgba(255, 255, 255, 0.5);
    }

    body,
    html {
        height: 100%;
        width: 100%;
        margin: 0;
        font-family: Arial;
        display: flex;
        flex-direction: column;
        justify-content: stretch;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none
    }

    .header {
        background: var(--header-color); 
        flex: 0 0 40px;
        font-size: 20px;
        display: flex;
        justify-content: stretch;
        color: white; 
    }


    .header-title {
        flex: 1;
        background-color: var(--header-title-color);
        border-top-right-radius: 25% 50%;
        border-bottom-right-radius: 25% 50%;     
        display: flex;
        flex-direction: row;
    }

    .header-title span {
        padding: 15px;
        line-height: 20px;
        padding-right:50px;
    }

    .header-title div {
        padding: 15px;
        background: var(--header-color); 
        margin: auto 0;
        border-radius: 20px;
        font-size: 15px;
        line-height: 15px;     
        padding: 10px 15px;
    }
        
    @media only screen and (max-width:750px) {
        .header-title div
         {
            display: none;
        }
    }

    .header-title div.show {
        display: none;
    }

    .header-title div i {
        padding: 0px 20px;
        transition: var( --hover-transition);
    }

    .header-title div i:hover {
        cursor: pointer;
        transform: var(--hover-transform);
    }

    .header-title div i.active {
        color: var(--secondary-color);
    }

    .header-icon, .header-pulse-ok, .header-pulse-error {
        width: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var( --hover-transition);
        font-size: 15px;
        line-height: 15px;     
    }

    .header-pulse-ok {
        color: var(--ok-color);
    }

    .header-pulse-error {
        color:  var(--error-color);
    }

    .header-icon:hover {
        cursor: pointer;
        transform: var(--hover-transform);
    }

    .fs-icon-normal:before {
        content: "\f424";
        font-family: "FontAwesome";
    }

    .fs-icon-full:before {
        content: "\f066";
        font-family: "FontAwesome";
    }

    .header-menubutton {
        background: var(--menu-background-color);
        color: black;
        display: block;
        transition: var( --hover-transition);
        font-size: 18px;
        padding-top: 15px;
        width: 40px;
        text-align: center;        
    }

    .header-menubutton:hover {
        cursor: pointer;
    }

    .bottombar {
        flex: 0 0 15px;
        background: var(--tertiary-color)
    }

    #menubar {
        z-index: 9999; 
        background: var(--menu-background-color);
        color: var(--menu-font-color);
        text-align: center;
        align-items: stretch;
        display: none;
        flex-direction: row;
        visibility: visible;
    }

    @media only screen and (min-width : 750px) {
        #menubar {        
            position: fixed; 
            top: 60px; 
            left: 10px; 
            right: 0;
            width: 500px;
            border: solid;
            border-color: lightgrey;
            border-radius: 20px;
        }
    }    

    #menubar div
    {
        flex: 0 1 150px;
        margin: 0 10px;
        border: none;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: var( --hover-transition);
        display: flex;
        flex-direction: column;
    }

    #menubar div i
    {
        padding-top: 10px;
        padding-bottom: 10px;
        font-size: 20px;
        line-height: 20px;
    }

    #menubar div span
    {
        padding-bottom: 10px;    
        font-size: 10px;
        line-height: 10px; 
    }

    #menubar div:hover {
        background: var(--menu-background-hover-color);
        transform: var(--hover-transform);
    }

    #menubar div.active {
        border-bottom: 4px solid var(--secondary-color);
        color: var(--secondary-color);
    }

    #menubar.visible {
            display: flex;
    }

    .mainspace-container {
        flex: 1 0 0;
        overflow: auto;
        background: var(--backdrop-color);
        border-top: solid;
        border-color: var(--mainspace-container-color);
        border-width: 4px;
        display: flex;
        flex-direction: column;
        justify-content: stretch;
    }

    .mainspace {
        background: var(--mainspace-color);
        margin: 20px;
        flex: 1;
        border: 1px;
    }


    @media only screen and (max-height : 1000px) {
        .menubar {
            display: flex;
        }

        .header-menubutton {
            display: block;
        }

        .bottombar {
            display: none;
        }

        .mainspace {
            margin: 5px;
        }
    }

    /* Plot styling */
    .graphtab {
        padding: 15px;
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        column-gap: 15px;
        row-gap: 15px;
    }
    
    @media only screen and (max-width:2250px) {
        .graphtab {
            grid-template-columns: 1fr 1fr 1fr;
            padding: 5px;
        }
    }

    @media only screen and (max-width:1500px) {
        .graphtab {
            grid-template-columns: 1fr 1fr;
            padding: 5px;
        }
    }

    @media only screen and (max-width:800px) {
        .graphtab {
            grid-template-columns: 1fr;
            padding: 0px;
        }
    }

    .graph-panel {
        padding: 10px;
        overflow: auto;
        background-color: var(--panel-color);
        border-radius: 15px;
    }
    

    .graph-panel > header {
        margin: 20px auto 30px auto;
        padding: 5px 0px;
        border-radius: 10px;

        max-width: 400px;
        width: calc(100% - 30px);
        
        align-items: center;
        border-left: 10px solid lightgray;
        border-right: 10px solid lightgray;

        background-color: var(--secondary-color);
        color: white;
        
        text-align: center;
        font-size: 1.0em;
    }

    .graph-panel > canvas {
        width: 100%;
        height: 100%;
    }

    /* Table styling */

    .tablesection {
        font-size: .8em;
        display: flex;
        height: 100%;
        margin: 10px auto;
        background-color: white;
        width: fit-content;

    }

    table {
        height: 100%;
        min-width: 1300px;
        overflow: auto;
        border-collapse: collapse;
    }

    table thead tr th:nth-child(1),
    table tbody tr td:nth-child(1) {
        text-align: left;
        width: 220px;
    }

    table thead tr th:nth-child(3),
    table tbody tr td:nth-child(3) {
        text-align: left;
        width: 65px;
    }

    table thead tr th:nth-child(10),
    table thead tr th:nth-child(11),    
    table tbody tr td:nth-child(10),
    table tbody tr td:nth-child(11) 
    {
        text-align:right;
        width: 90px;        
    }

    table thead tr th:nth-child(2),
    table thead tr th:nth-child(4),
    table thead tr th:nth-child(5),
    table thead tr th:nth-child(6),
    table thead tr th:nth-child(7),
    table thead tr th:nth-child(8),
    table thead tr th:nth-child(9),
    table thead tr th:nth-child(12),
    table tbody tr td:nth-child(2),
    table tbody tr td:nth-child(4),
    table tbody tr td:nth-child(5),
    table tbody tr td:nth-child(6),
    table tbody tr td:nth-child(7),
    table tbody tr td:nth-child(8),
    table tbody tr td:nth-child(9),
    table tbody tr td:nth-child(12)
    {
        text-align:right;
        width: 45px;
    }

        table thead {
            background-color: var(--primary-color);
            font-size: 1em;
            color: white;
        }

            table thead > tr > th {
                padding: 25px 15px;
                border-collapse: collapse;
                transition: var(--hover-transition);
            }

            table > thead > tr > th:after {
                content: " \f0dc "; 
                font-family: "Font Awesome 5 Free"; 
                font-weight: 900;
                color: lightgray;
            }

            table > thead > tr > th:hover {
                background: var(--hover-background);
                transform: var(--hover-transform);
                cursor: pointer;
            }

        table tbody th,
        td {
            -webkit-user-select: text;
            -ms-user-select: text;
            user-select: text;
            border: dashed thin;
            border-color: lightgrey;
            padding: 10px 15px;            
        }

        table > tbody > tr > td[valid="Pending"],
        table > tbody > tr > td[valid="No"] 
        {           
            color: red;
        }

        table > tbody > tr > td[valid="Yes"] {
            color: green;
        }

        table > tbody >tr:nth-child(even) {
                background: var(--panel-color);
            }

        table > tbody >tr:hover {
            background: #daebfe;
        }

    .table-aligned-center {
        text-align: center
    }

    .selectable {
        color: var(--selection-color);
    }

    /* Map styling */ 

    #map {
        height: 100%;
        width: 100%;
    }

    .maptab {
        height: 100%;
    }

    .shiptable-map {
        width: 10px;
    }

    .shipicon {
        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAoCAYAAAB5LPGYAAATHElEQVR42u3be3BU130H8O8599593H2BpJUwRgIhHlrJKwsQSCCJlWweIyLXBo+BWDZqhqi0zTgKSWcoQ6d/dPpHp4SSNDOdEcqOChlSO8UiMSi2k9iKi2RbjhCGBUEAFyyBESteq9Xu3d37OP3DKs56tbpXjz86U/1m9Me95+qz59793d8597HAbMzG//VwNbpEV6PLPlPe7uxd4u7sXTPmzcttEuflNs2YV+XlxCovN2PeNqtD3GZ1zJhXW20Wa6vNM+aJheWiWFg+Y169xSvWW7yGPGpIpNx+UG7fTHWQgu6noPtm7hSh+zGDHgH2E2DGPA7Yz82gx/PYz/Mz54Hy+0H5Gdxfup8z+H0QA9XPKm/fMAAAwi9+lxc6GpKmWf2sL8Z3DADAm+Y38vzBY9Py5uU2WeOxrQMAYLaczBsabJ2WV+XlrBUsewAAPibBvK6AOi1vm9Vh/XNFHgCAf+eFvHYpPC2vttpsfe176gAA/ORHXF7nmfi0PLGw3Mpv/usBAFDe/be86JWeaXn1Fq/126aKAQD4aeLjvNOxgDTdCvhKfPWirPjqRVkAXpmBE+SVsujqrLLo6hnzIuGyrEi4bMa8AmbPKmD2GfPKVTmrXJVnzFtXqWatq1RnzOOWr8nilq+ZMW8tn5+1ls835OkmoLJxbbPqtkN126FsXNs83d49I29sdstuuGU3npE3TtuTE7XNiZgbiZgbcqJ22p6XZTQ7mQAnE+BlGdP2nlOV5mxNRbam4jlVmbb38qtac04OQ04Ow8uvatP2uModzcSVDeLKBle5Y9reNt7bnE0dyKYObOO9zdNKQFejy5eoWFz8v8uJisXFrkaXbxrDr688tvaxVx5bW7w7e9eUvXm5TT4puuaxJ0XXFM/LbZqyV+XlfEuZ47G3lDmKq7zclL1tVoevUpUfe5WqXLzN6piyV1tt9q33qY+99T61uLbaPGVPLCz3cZ7Kxx7nqSwWC8un7NVbvL4qoeCxVyUUFNdbvL4pJ6Dm9eyTC9xfVZsCNzSvZ8qT1WK1ZF+BVPB4uUAqQLFaMmVPVYv2RcNfedFwAVS1aMpeLuz7cpjl8XIOsyAX9il7ZZq2b6mqPF5eqioo07Qpe+tr2b5ly7THy8uWaVhfy6bs0cLqffSJJV8tP7EEtLB6yl45l7dvKZf91f5y2Sjn8vZNKQFdjS5Porao7uvrE7VFda5Gl2cK1c9TE69N8WritXW7s3d5plD9PDHJl+LFJF/dvNwmzxSqn6dYm5PiFWtz6qq8nGcK1c+zUZVTvI2qXLfN6vBMofp5tmxRU7wtW9S62mqzZwrVz8Ot2JTicSs21YmF5Z4pVD/PZsGT4m0WPHX1Fq9n0gnIsnOaE975KesT3vlg2TmTniu4WXbzUxFvyvqnIl64WfakPcaymkdDT6WsHw09BcayJu05ITTnMTFlfR4T4YQwaW8+Y81PK3LK+qcVGfMZm7SXv5g1r1ippqxfsVJF/uLJe8Sd38zll6TOCfNLQNz5k/YWEFdzKb8gZX0pvwALiKt5gltU41a/zMRLvjalwG1K/Q8KIpg9Ngy2xM8buwWwO3tX5ovx7W2L4wWm1A5wEHiTh3OxlnOR85LB6pcZk7a2xaKLU/vHOPAC75mbJbSMjvRJBqtfZgXLbsthFlPqGUrAE+phOdGWgSCTDFa/zFdVuW2JppjGO+BmQjyjZrHlspKQDFa/zL/8jta2bJmW6nGAVSSe258LLTcHjN0yEgvLM/mN326jTyxJPX6UA0xWD3d/oEW+d1syWP0yv2Uqb1vKZY+zvxQW8J6HJNZyVQlKRitgY2LVQlu6Dxxra5zECdK4KrIqrTfWNikvMpLeG2ublLdYs6f1xtom5a1R5LTeWNukvIoKNa031jYpj1u6Oq031jYpr1xYlNYba2s0VAFdjS4iP19zMvH0grSPUpiZB8cspaJl6FD8fFyv+pHnEi+cLJGeTuuZmBlMQKnNaT50LnJer/qRRPwbJyPhkrSepplgsmilrgzHodGRPr3qR8pY1smFzJbW40EBQkr5nNihgSDTq37km6pycoUqp/XMYOAoV6qarIcuKwm96kf+4q+0k6vK1PSeGTBbaOmDoHDo5oCqV/0I9+zuk9zi0rQeEcxggqWUDwcPyfdu61U/8qpQdnIln5u+f4QHz0hpjKqHripB3QrYkKjIz0nqkKKCKMk7NrZNg4Gzo2FNtDzJU4gChSjJVeHLbQx5kdE1yf2jCghN9sa2MeQtYY4kTwWDiuREG9vGkLdOSSTvLwiUrz10GtvGkFddrSZ5svzl35/G2DaGPK5wbU7y7QTly78/rUxfbmPIqxQWJ/cPKmQk58vYNg26FVB4rcofW79sPgBww6OwfPjZqLX1/Tbze/1nKbhC5rSamM0EzWGBcF/JS7x1o3Wi3r1mfs1fPeqbDwD3hGF86Oge9Tta2zrF985CYIVOzWkSNRscqgP3zQ/yfiW9NaFnEV/zhx9WzwcAk+UeHHM+HHXNbWuzOX5/VjCxQk1zmlRFhCo7YBHv50VHfzWhtyk7w+9hrvkAMEJk/JGGR9+nd9ou0kdnQUihFZzJDA5WcBglal5fUJrQ+y7H+2uVxHwAGKYczvDm0Z+YLG3v8qazlNBCF5jJxhgcjOEhx+d1qPKE3vd/QP0bNqrzASAYJOjs5Ed/+M982+lT3FmOJ4Vz5jCTzQY4nQwjYZr39jvahJ657jt+3ls7HwBYaBhqf9eofOrHbWrfO2dB+UIiukzEYgOxOqBJo3mJC+9N6DVbavzPCsu/7J8Wxgfy9dEfx37f9rbcf5aCFLqI1WQjZjiJBY+0aN6vE5eSPPK14bdS+sH2LvAUpo8/6+U++EMrgOOho6HIWLsNQIPqW92UqCgog6LBeugXVaGjoe40w2/l9yJ/08UzHh9bPurt4j9oBXDcHzwWGWu3AWioUnxNFbG1ZQpR8CPbD6v8wWPdaYbfytGR73YxxsMq9vTyQncrgONDg62RsXYbgAZFrmySouVlhCiwO/+1amiwtTvN8Fv5DS23iwPBNTLSe5k8agVwvCugRsbabQAaPGxO01LmLFPB0EEHq7oCanea4bfy7+VYl8CALl7ofZdyrQCOt0vhyFi7DUDDZk1tqlLkMpkA/yBYqtqlcHea4bfyX36sdPEC8MHvae+bv6CtAI53nolHxtptABpe3K41+Wq0MkUGvt/MV3WeiXenGX4rhVf/qQucALW/q1f75GQrgOPRKz2RsXYbgAa6ZmsTV1RVBlWG/LO/rYpe6elOM/xW/qNlSxcPDmeU670dyuVWAMdPxwKRsXYbgIZv8J6man5JmQIVfxf7ddXpWKA7XQIeZvmLRHLjZkvoaKhP5ynJSpa/aA+5cTMaOhramyYBDy/U8sXP6Y0Wf/BYn85cceVCLX/P5/RG1B88tjdNAh7WtDyR0oGWocHWPp254kpNy9tD6UB0aLB1b5oEPOyGRRxGrKUroPbpzBVXumHZM4xYtCug7k2TgIeXMSZeJaSlXQr36cwVVy5jbM9VQqLtUnhvmgQ8XFLKxAufkpbOM/E+nbniypJStufCpyTaeSa+N00CHiZ5JSIbuNASvdLTpzNXXEnySvawgQvR6JWevWkS8LCHZouXtWDL6VigT2euuNJDs/dc1oLR07HAXszGbMzGbMzGbMzGbMzGbMzGbMzGbMzGbMzGbMzG/5sw9Ks4AB4ADMCnoaMhNp0P3J29K8nzB49Ny5uX25TkDQ22Tsur8nJJXldAnZa3zepI8tql8LS82mpzktd5Jj4tTywsT/KiV3qm5dVbvEne6VhgQo+fIPGKWF7ewcS65XXqgrkEAPirdyVnxqUT5MG9A6GjocFJJl5RrrbwYEV8Xd0CeQFhhOG6cE2a68448ZA8OOAPHhucZOIVadqCg/FYRZ2ceJIADCbzdSlnwdwThDw8MDTYOjjJxCvKguXgUuasy2RmAgB3iCTZvY9OjEI50BVQByeZeEVLGDu4XpHrcplKAOCPlJeyLfYTQUIOtEvhwUkmXlFxCTu4YaNat3AhIwBwuZ9KT+aaT9wexIHOM/HBSSZeEVlQfJDz1tYRdy4BA7Tbf5RsGU+eYA9uH4he6RmcZOIVLaPugzX8krqFNIMwAFfUISmHOE7cZeEDp2OBQcMV0NXoqlE2reuIblspMktyjtJwDOLPe25xH53bHDoa6jeYfDXPyps6toVeFM2aJaktzIXxuuv4rR7+o83+4LF+g8lXIyee6Xh4b6uoqebkM0oIY07W67d4/g+bhwZb+w0mX00Jy+hYo2WKwtdeEJKgopsO37pGQpu7Amq/weSreV5VOrbLMdHCkgtAmFAcNVludVJuc7sU7jeYfDUNu7SOhlcU0WJJ9kZGCH7ayt86/Su6ufNMvN9g8tVwlTs7hOrtIoTk74NJYcjvHb2lnfv15uiVnn6DyVfzIl/SsdO8SrQQIbl/LIa22Me3fqde3Xw6Fkjxxnsf0K2uL+uJNpTbmCn1hWlm5iE/nesUrj/aYH0y4o+fjys6yeeuUnw9Lz96xSaw1BdwzcyMktjTzuvWaxvy7E/6z0XOKzrJ51bkdT0Pgt+0MU1Iadc0M6RoiVO0Xd/gmLPIPzrSp+gkn7uQzemp0tw2fpy30wRQLGQ25xCNbZibo/gHgkzRST73Jk3taUxINtM47WYwrFAV5zWe35AhWPyXlYSik3zubS9pPd9ukm2mcUCzGShbrTk/+4zbwBPef3NAVXSSz01Xv9BjerbRBj4VJIIZXMEKpzp0c4NA4Zfv3VZ0ks+9hff0fMuy1mYiqQOqmfBYJeQ6rynBDQ7O6r+qBJO88d4HbJa2rrQzLv0P5pjAIf7CquUAthg4QZqfH9lq5xiXdgOBCXg+stWwF3r4vJ1N4DFNQGT0zwx7a7RMO51gOsyBoEzLNOy9lIjZ+Qk2EMCwXU4Y9l5uUOz8BKAgAA2vKoY9oeolO2j64wdOgFC13bC3w7TKzk/wA0sBHHaaxs+XlP9SK0p96lxR91MTy3PA3Nmb9LZbrVT45ipzdb1l0nJkMbeupyhlPjmu70VGloGxTF1vCXP6bOB1vfnMCgcEXc+nqb4Mpul6haqMeYzpelue03wZGfrXBUVFGhYugq5HS+t8xK5//OiCQpCshbres9xSXwbVzxcPPw/ziXOTbgIqT+VajU481TXLdb+5p2SvYa9MKdf15ESxYU+Wy3S9XNgMe0uYU9cr1VTDXpWm6nqrVjHD3jMbNF2PLi417NFin663gl9g2FvPF/C6CcgN3jd8GU6vfqF7qg/yg4a9a9xVXY/nbxn2eP66rncfxm9j3CFRXe9zQg17lynV9W7cIIa9wAWi67Hg54Y9bfCSrndTfWDY61eHNN0E5H/b001isv6XeycEeu2zXr3t3hd+0x2jMf0v1/QFPqNXdT3B1NnNcfqeWbwDSvX7FyAPuhPQHzIfkgSGIOl6pzi+WyK6t1fxBeVwiVBd7z+O025J0vdu36Lo/YToeuqHb3QzA78G1R58AfbfZ3W9k8qFbonp58tt7REuaHd6dRMQmnrE+m7/xFnNAMtbn94HcEJ3R6Ad+Y3zXTYxx3DafsqQB2hHXJm/1TnrGByuDkMeA45coI90z+Kz5IEhTwWOvC2YdfYXaBfMxjwFR069xU3sMeCNNzhjx09Tjyhn39E9fspH7Qb3lx3pSFzU3d834+PnS8qlUPx8fFg037lLXXPrlfys1Mt0RYPYEZD43360I3Q0FNDr4LnI+WGb03TXwbnq8+P5qRcVRMHbczqk94Tf7PAHj+l6oyN9w64M+13e5KiPRRel9o8qmJv1tmQyvb9jaLBV1xsIsmE+R7orEqE+m1nGO8A4Rx9KAfJgR1dA1fUuK4lhxWS9m0lI/WIt9SeSCgjeMlmktzh+R7sU1vVuDqjD9+8Kd+c9QeqXLNHGuSgD2t/kpZ//jNvReSau68n3bg/zI3fvYs68ejpv8bgZL39yStK6X98RvdKj611VgsMSVe66IdYXcO5x9lfDL+PnpXblwo7TsUBANwHHkrDXhsGLwlDMB4vJDkpAIwmYLn0B65u9/XznJztDR0PvGx37z0XO9/IuXBwy3/WZicVOQRHlIrgkXsJJx4n+D4TOnf7gMcPe6Ehf75xM00WLbchHOYsdhILjo7A5LsE595f9gunMzqHBVsPeQJD1spzoxUdE9pnA2SkB4kTDLSKhh97r7yePdnYFVMPeZSXRGzGLF4Mc77MS2CkIooQiwAl4XbD0v83xO9ulsGHv5oDae3tAuHjvPvWJIrFTCkQiBOc/5XDsmND/n6/TnZ1n4oY9+d7tXu7+wEUt/MAHk2gnlANiEWifX4TyX6/3az1v7oxe6THsXVWCvQ9J7GJQHfFZicnOgSLC4rigfIGfJ3r7TymXdp6OBcb1JpxcuBpdBEAlvnq296HRpx9pbkqneEaffqS5KZ3iGX36keamdIpn9OlHmpvSKZ7Rpx9pbkqneEaffqS5KZ3iGX36MV7UW7wp3nhPP2ZjNmZjNmYDAP4HqVQD1I/1cCYAAAAASUVORK5CYII=");
        width: 20px;
        height: 20px;
        opacity: 1;
        display: inline-block;
    }

    .staticon {
        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAUCAYAAADRA14pAAACXUlEQVRYhe3Ru47aQABG4UMWKSGJUJRqW9JlN+yKJim59duQBwD2kShyqXBtkheghJ4KF0gICewCISxRMgg7BYYYe2ZtME0uI42EMDr6Pwz/j/S8A1L/Su9+MGCmaXy5UPQeBjPQLtYbwEzjMvvuDAPTdXGFYKNpfE0YvQPDBNcFsQEtcc8A0wVXwEYj2b68YWC5Lu7+JkTnwbB22P1NhM4bYPliidAfglgJ+tkpvTA2hD6pF8RK0LF7SmwA/S1m9AnsETp2T4UNoGP1bqOwfnS7HRm9jcb60e3IXhTWj25HoG9k2NGIZb9PazhkokB/V0Rv5NjREvotGE4UaGVPhh3Bsg+tIUwUaGnvvQy73SIKBR6833xarRAStPDQV/6eHLsVUDj0YCUkaOGhj3oy7BZEAd8+EBK08NBX7OW1GtfZLC8k/6qby/Ha+/wmlcIN/iCdhkyGt8Dz/XcpateQlfYgd+hBKtSDNJA56n2G6yyKffj2IdkHZDjeB0C9TtU0sYNv0LKwez264zGL4DPHQeg6P4GX4S31Kph2+A1aNvS6MF6EnzkCdGmvDlUT7OAbtMDuQXcMi+AzB4SOah/QaFCRoWXXw/5QxnbFihwtu44A/cleAyoytOx62Ih9MdHxsKego7GnoGNj96fZpKxCe9hO7NiuWFajHQH6Sb0mlFVoD3vivh26FEQ7DutO54zYrlgKo501dM7qNaEURDuw7pyDPUR9aA+rA6/Oiu2Kpd9oZw2dRD0/2sMm3Ac8PlKcTpknxx6KRZjOk2IPNShOYX4RrO98vGTsD+j9PecXIj9PVcetObkAAAAASUVORK5CYII=");
        width: 20px;
        height: 20px;
        opacity: 1;
        display: inline-block;
    }

    .planeicon {
        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAACt0lEQVRIx7XVT2hcVRTH8c9MJ5kwo5kEkv5Bilpr20j8E62xCyHZuHGhIM1CaXfWTUGoglpQF+rGZRE3BRVpEaSC1V2oGxcVsVhEIYZYK60UkyZmZpJmMs1k3nXhDQzTRidt8oPL475zzv3ec96959G6XkHYLl1FwKs2QD/t1zlf9uTkfp3z+Hm9Ae1YHNVfDobDGf0lVJFrJTjdImQ7Ou6Tq0F8ZnHPekKy0Ks9A1tlM2spQ3otzlnp8G9QyoZBblWtQB7Cx6vYTuCx29lAG97GEmof2TlZN1QNhkPdUPWE+yexHO3vRP81aQDnEZ7TWbxgcDIYDs3jd4N/HdA9Fy/n+Rh3g1I3uQ9v4nVkTto1PWJroV26Y7XdLEmqp0yWD5jojZm9j/dihjdA9uJTPPCCrrl37arukNvcauoXVa6+ZaLjM6VOjOEQvluBtEXyEaRO2VN81pZ8m1QOSdly+aJKeyKkd8qHgkxuzvLCbxbSaalkh9xSQaaAdE2ofGVqYcR4VzxUH+Ao/IpwUHfxkiemaoYq4x6f+cKe4vO6SrHeAeGcgcVgOJwzsNj4fkSh9Lnds2P2TtcMVa7YN/uSntlo/wXqL9s8dlrflaO2Xc1LrXTZ6/g2fqNHMNEEmcLDeC36LSLkpapv2DZzWt/lw3rHUYekYVcX8CGeQWdT2cdG9U8Hw+EbD87Eujfqzhh3LK6zsmaSiRftB5zBpQi9mUo1SQ9U1RNca7LP4+s4juBuPIXBDF5s8QCVm+Z//4dvgj9wHMfX1LtKlvNQUc9uVIMsBiEN1yXt8ae1rpAM7m16txs96wXZhE+w7w6ZGmyRXUAfRtHVygL/p2M49LT8nwfdJaFekNmUVb981rV+PIovUbvVdn+44bzXELqlluK82mA7eTvlamzdY/ixKLThe5yNADGbVfUPx0b/bFzy3uUAAAAASUVORK5CYII=");
        width: 25px;
        height: 25px;
        opacity: 1;
        display: inline-block;
    }

    .helicoptericon {
        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAADxUlEQVRIx61VXWgcVRg9d+7Mnd3Zmd1N405oE5KakLbYgDTFH5BUEFo1WJuUNkiLEkVFxSb4UEVsUCutbWPAH1y10qAP2tJa6kMJltKU+CDqKmxQMNZV2ZikSkKSNTP7Mz97fcnCMuxuNq3n8Z7vO+fe7565A6wOr3wSDM5up/RL3AS2UuAogJoSXPiYovwV13V+OhRaAnBvGY37KPAmAFJYEDwFzW+r6r49ongRQJ2H69zq96sAsFGW6TrgwRIGe48oyqdPMdZVyeTcAcOIdvh8Db2S9BWAhgJRA2yIUBpcbvL3+nxtnt7HBwOBwWnHSX1oWT0A8uVMAOBEv2Gc2MyY9jRjlwC0AMB+xjYW10cobS/a7fNDgcDAhGWlopbVBeCnYkGhzFzfP2iabzSJotQny5cAtNWLYlNxwS2iuGb57l5+V1UP/pjLzZ6y7YcAJLxitEIIxkdte+ZhWd7VLgjddaJY3yhJSoHMcb54JZttf0vT9n6dzSbPOE4XgJlSQnSFtP0yats/389Y13ZVrSNFJw8IArmbMe28aV674Lq7AMyVExFWMFkPoHHOdVPEsyGREH8mn1cuuu73ABqL0+QFKeO8+5Dff6iVsfVNkiQHBUEpJ5DjPDdt2/nfLOvvkWz2s7F8fsBbI5ZqfEKStu3WtC3VfL0yIXIzY2hm7FZFELrHDKM6k89t+1pbOp3QKQ01SVIgUOEkNufmjOPwSdv+N5bLjVc9riJsALDvPVXt71CUcIlRzW2bnU3mgD4AMQD2jVy8uV8UOzmQOT4/H8sD2QJxfmkpNriw8PuQqq7VgZ0AnBt5LFselaTYUCCQBHAAwCNXa2sX47rO47rOd1IaBaB1Uno5qml/rAPeKTf+critj7GJo4ryK4Dewui+CIdTcV3nP0QiBoD+5XXfPYJw4aSmJbcQMlytUfsLspw4oihTAHqK1tWPNG0xrut8tLZ2EcCe4pDdQcjpU8HgP3cKwjkAcsX/yYs+X+J1v38SQKeXPKYo38V1nZ8Nh1MAWr1JvZ2Q4Y81bXIHpSOVnvqWaceZfzWTeQzAiNfkuutOAsC860oAkh7aGef8ycOGcSZMSH0VoSqNTYS8Ftf1/HFF+WY1fatym+B8Lsu5Ne26U6vpqyYJzwIgD1DasFkUO1zOxRpB2PQcYx9ELetPAD4AhysJkBUdGBvuDYW6ZUJC3nqHc/OKaV5/KZ1uvamTcCD/bSZjraHU0CmlEVGUFlzXnHddOmXbbppzEf8DegCMAVgLYMddgpAA8AyAZgADAE6uJPAfk1U+b+R6xyUAAAAASUVORK5CYII=");
        width: 25px;
        height: 25px;
        opacity: 1;
        display: inline-block;
    }

    /* Shipcard styling */
    #shipcard {
        top: 10px;
        left: 10px;
        width: 400px;
        display: flex;
        flex-direction: column;
        justify-content: stretch;
        z-index: 9998;
        position: absolute;
        visibility: hidden;
        background: #fff;
        cursor: auto;
        border-radius: 15px;
    }

    #shipcard.visible {
        visibility: visible
    }
    
    #shipcard_content {
        flex: 1;
        overflow: auto
    }

    #shipcard_header {
        flex: 0 0 35px;
        padding: 10px;
        margin: 5px;
        margin-top: 10px;
        border-radius: 10px;
        line-height: inherit;
        align-items: center;
        font-size: 18px;
        color: white;
        background-color: var(--secondary-color);
        display: flex;
        flex-direction: row;
        justify-content: stretch;
    }

    .shipcard-validated {
        border-left: 10px solid #7CFC00;
    }
    .shipcard-not-validated {
        border-left: 10px solid lightgrey;
    }
    .shipcard-dubious {
        border-left: 10px solid red;
    }
    .shipcard-not-validated-transparant {
        border-left: 10px solid transparent;
    }
   
    .shipcard-footer   {
        background-color: var(--tertiary-color);
        border-bottom: 1px solid rgb(217, 218, 218);
        flex: 0 0 50px;
        border-radius: 10px;
        display: flex;
        flex-direction: row;       
        margin: 5px; 
        margin-bottom: 10px;
        justify-content: center;        
    }

    .shipcard-footer  > div  {
            flex: 0 1 100px;
            display: flex;
            flex-direction: column;
            border-radius: 10px;
            transition: var( --hover-transition);
        }

        .shipcard-footer  > div:hover  {
            cursor: pointer;
            background: var(--hover-background);
            transform: var(--hover-transform);        
        }
        
        .shipcard-footer > div > i {
            color: white;
            font-size: 17px;
            line-height: 17px;
            margin:  auto;
            padding: 10px;
        }

        .shipcard-footer  > div > span {
            flex: 1;
            font-size: 9px;
            line-height: 3px;
            color: white;
            text-align: center;
        }

    #shipcard header > span:first-child {
        flex: 1 0 0;
    }

    .shipcard-header-icon {
        flex: 0 1 0;
        padding: 5px;
        border-radius: 10px;
        line-height: 10px;
        transition: var( --hover-transition);
    }

    .shipcard-header-icon:hover {
        cursor: pointer;
        background: var(--hover-background);
        transform: var(--hover-transform);        
    }

    #shipcard_content  {
        display: flex;
        flex-direction: column; 
    }

    .shipcard-content-row {
        display: flex;
        flex-direction: row;
        justify-content: stretch;
        padding: 10px;

        border-bottom: 1px solid rgb(217, 218, 218);        
        transition: var( --hover-transition);
    }

    .shipcard-content-row:hover {
        cursor: pointer;
    }

    .shipcard-content-row > div {
        overflow: hidden;
        flex: 1; 
        display: flex;
        justify-content: stretch;
        flex-direction: column;
    }
    .shipcard-content-row > div > span:first-child {
        color: rgb(111, 128, 124);
        text-transform: uppercase;
        font-size: 10px;
        line-height: 14px;
    }

    .shipcard-content-row  > div > span:last-child {
        line-height: 20px;
        font-size: 14px;
        text-transform: initial;
    }

    .shipcard-content-row  > div > span:last-child:empty:after {
        content:"-";
    }

    .shipcard-min-only {
        display: none;
    }

    .shipcard-min-only.visible {
        display: inherit;       
    }

    .shipcard-max-only.hide {

        display: none;
    }

    .shipcard-row-selected {
        background-color: rgb(240, 241, 248);
        display: flex;
        flex-direction: row;
    }

    @media only screen and (max-width:500px) {
        #shipcard {
            width: 100%;
            left: 0;
            top: 0;
            border-radius: 0px;
        }
        #shipcard header {            
            font-size: 14px;
        }
    }

    @media only screen and (max-height:800px) {
        .shipcard-ismax {
            height: 100%
        }
        #shipcard {
            left: 0;
            top: 0;
            border-radius: 0px;
        }
        #shipcard header {            
            font-size: 14px;
        }
    }

    .pulse {
        animation: pulsate 1s ease-out;
        animation-iteration-count: infinite;
        -webkit-animation: pulsate 1s ease-out;
        -webkit-animation-iteration-count: infinite;
        opacity: 0.25;
    }

    @keyframes pulsate {
        0% {
            transform: opacity 0.25;
        }

        50% {
            opacity: 1.0;
        }

        100% {
            transform: opacity 0.25;
        }
    }

    .leaflet-control-layers-toggle,
    .leaflet-control-label-toggle,
    .leaflet-control-zoom-in,
    .leaflet-control-zoom-out,
    .label-toggle-control {
        font-size: 18px;
        background-color: white;
        min-width: 30px;
        min-height: 30px;
        max-width: 30px;
        max-height: 30px;
    }

    .leaflet-control-label-toggle {
        text-align: center;
        color: grey;
        transform: translate(200px 0)
    }

    /* Summary tab */

    #summary_stat {
        max-width: 700px;
        margin: 15px auto ;        
        border-radius: 15px;
        background-color: var(--panel-color);
    }
    #summary_stat section {
        margin-bottom: 10px;
        padding: 10px;
        margin: 0 auto ;
    }
    #summary_stat section div {
        display: flex;
    }
    
    #summary_stat section div span:first-child {
        flex: 1 1 150px;
        text-align: right;
        color: var(--tertiary-color);
        padding: 5px 20px 5px 20px;
        display: flex;
        flex-direction: column
    }
    #summary_stat section div span:last-child {
        flex: 1 0 150px;
        text-align: left;
        color: var(--primary-color);
        padding: 5px 20px 5px 20px;
        font-weight: 550;
        overflow-x: auto;
        border-left: solid 1px lightgray;
    }

    #summary_stat section div span:last-child:empty:after {
        content:"-";
    }

    @media only screen and (max-width:750px) {
        .leaflet-tooltip {
            font-size: 8px;
            padding: 3px;
        }
    }
    
</style>

<link rel="stylesheet" href="config.css">
</head>

<body>

<div class="header">
    <div onclick="toggleMenu()" class="header-menubutton"><i id="header_menu_button" class="fa-solid fa-bars"></i></div>
    <div class="header-title"><span onclick="headerClick()" >AIS-catcher</span>

        <div id="menubar_mini">
            <i id="stat_tab_mini" onclick="activateTab(event,'stat')"  class="fa-solid fa-briefcase"></i>
            <i id="plots_tab_mini" onclick="activateTab(event,'plots')" class="fa-solid fa-chart-simple"></i>
            <i id="ships_tab_mini" onclick="activateTab(event,'ships')" class="fa-solid fa-table"></i>
            <i id="map_tab_mini" onclick="activateTab(event,'map')" class="fa-solid fa-map"></i>
            <i id="about_tab_mini" onclick="activateTab(event,'about')" class="fa-solid fa-circle-info"></i>
        </div>
                
    </div>
    
    <div title="List installed plugins" onclick="showPlugins()" class="header-icon"><i class="fas  fa-wrench fa-sm"></i></div>
    <div title="Toggle full screen mode" onclick="toggleScreenSize()" class="header-icon"><i id="screentoggle-id" class="fas fs-icon-normal fa-sm"></i></div>
    <div title="Connection status with server" id="pulse-id" class="header-pulse-ok"><i class="fa-solid fa-link fa-sm"></i></div>

</div>
<nav  id="menubar">
    <div onclick="activateTab(event,'stat')" id="stat_tab"><i class="fa-solid fa-briefcase"></i><span>Summary</span></div>
    <div onclick="activateTab(event,'plots')" id="plots_tab"><i class="fa-solid fa-chart-simple"></i><span>Plots</span></div>
    <div onclick="activateTab(event,'ships')" id="ships_tab"><i class="fa-solid fa-table"></i><span>Ships</span></div>
    <div onclick="activateTab(event,'map')" id="map_tab"><i class="fa-solid fa-map"></i><span>Map</span></div>
    <div onclick="activateTab(event,'about')" id="about_tab"><i class="fa-solid fa-circle-info"></i><span>About</span></div>
</nav>
<div class="mainspace-container">
    <div class="mainspace">
        <div class="tabcontent" id="about">
            <div id="about_content"></div>
        </div>
        <div class="tabcontent" id="stat">
            <div id="summary_stat">
                <section>
                    <div>
                        <span>Station</span><span id="stat_station"></span>
                    </div>
                </section>            
                <section>
                    <div>
                        <span>Device</span><span id="stat_product"></span>
                    </div>
                    <div>
                        <span>Vendor</span><span id="stat_vendor"></span>
                    </div>
                    <div>
                        <span>Serial</span><span id="stat_serial"></span>
                    </div>
                </section>        
                <section>
                    <div>
                        <span>Version</span><span id="stat_build_describe"></span>
                    </div>
                    <div>
                        <span>Build date</span><span id="stat_build_date"></span>
                    </div>
                    <div>
                        <span>Engine</span><span id="stat_model"></span>
                    </div>
                </section>    
                <section>
                    <div>
                        <span>Sampling rate</span><span id="stat_sample_rate"></span>
                    </div>
                    <div>
                        <span>Data processed</span><span id="stat_received"></span>
                    </div>
                    <div>
                        <span>Running time</span><span id="stat_run_time"></span>
                    </div>
                </section>            
                <section>
                    <div>
                        <span>Total messages</span><span id="stat_stat_count"></span>
                    </div>
                    <div>
                        <span>Last day</span><span id="stat_last_day_count"></span>
                    </div>
                    <div>
                        <span>Last hour</span><span id="stat_last_hour_count"></span>
                    </div>
                    <div>
                        <span>last minute</span><span id="stat_last_minute_count"></span>
                    </div>
                    <div>
                        <span>Rate</span><span id="stat_msg_rate"></span>
                    </div>
                    <div>
                        <span>Vessels seen</span><span id="stat_vessel_count"></span>
                    </div>
                </section>            
                <section>
                    <div>
                        <span>Channel A</span><span id="stat_stat_channel0"></span>
                    </div>
                    <div>
                        <span>Channel B</span><span id="stat_stat_channel1"></span>
                    </div>
                    <div>
                        <span>Channel C</span><span id="stat_stat_channel2"></span>
                    </div>
                    <div>
                        <span>Channel D</span><span id="stat_stat_channel3"></span>
                    </div>
                </section>
                <section>
                    <div>
                        <span>Class A position</span><span id="stat_stat_msg123"></span>
                    </div>
                    <div>
                        <span>Class A static</span><span id="stat_stat_msg5"></span>
                    </div>
                    <div>
                        <span>Class B position</span><span id="stat_stat_msg1819"></span>
                    </div>
                    <div>
                        <span>Class B static</span><span id="stat_stat_msg24"></span>
                    </div>
                </section>
                <section>
                    <div>
                        <span>Base station</span><span id="stat_stat_msg4"></span>
                    </div>
                    <div>
                        <span>SAR aircraft</span><span id="stat_stat_msg9"></span>
                    </div>
                    <div>
                        <span>Aid-to-Navigation</span><span id="stat_stat_msg21"></span>
                    </div>
                    <div>
                        <span>Other</span><span id="stat_stat_msgother"></span>
                    </div>
                </section>
            </div>
        </div>

        <div class="tabcontent" id="plots">
            <div class="graphtab">
                <div class="graph-panel">
                    <header>Messages per Second</header>
                    <canvas id="chart-seconds"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Messages per Minute</header>
                    <canvas id="chart-minutes"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Messages per Hour</header>
                    <canvas id="chart-hours"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Messages per Day</header>
                    <canvas id="chart-days"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Frequency Shift (avg PPM per hour)</header>
                    <canvas id="chart-ppm"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Frequency Shift (avg PPM per minute)</header>
                    <canvas id="chart-ppm-minute"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Signal Level (Min/Max dB per minute)</header>
                    <canvas id="chart-level"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Distance (Max <span class="distunit">NMi</span> per Hour)</header>
                    <canvas id="chart-distance-hour"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Distance (Max <span class="distunit">NMi</span>  per Day)</header>
                    <canvas id="chart-distance-day"></canvas>
                </div>
                <br />
                <div class="graph-panel">
                    <header>Max Distance Last Hour (<span class="distunit">NMi</span>)</header>
                    <canvas id="chart-radar-hour"></canvas>
                </div>
                <div class="graph-panel">
                    <header>Max Distance Last Day (<span class="distunit">NMi</span>)</header>
                    <canvas id="chart-radar-day"></canvas>
                </div>
            </div>
        </div>

        <div class="tabcontent" id="ships">
            <div class="tablesection">
                <table id="shipTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(this)" field="shipname">Shipname</th>
                            <th onclick="sortTable(this)" field="mmsi">MMSI</th>
                            <th onclick="sortTable(this)" field="callsign">Callsign</th>
                            <th onclick="sortTable(this)" field="last_signal">Last</th>
                            <th onclick="sortTable(this)" field="count">Msgs</th>
                            <th onclick="sortTable(this)" field="ppm">PPM</th>
                            <th onclick="sortTable(this)" field="level">RSSI</th>
                            <th onclick="sortTable(this)" field="distance">Dist</th>
                            <th onclick="sortTable(this)" field="bearing">Brg</th>
                            <th onclick="sortTable(this)" field="lat">Lat</th>
                            <th onclick="sortTable(this)" field="lon">Lon</th>
                            <th onclick="sortTable(this)" field="validated">Valid</th>
                        </tr>
                    </thead>
                    <tbody id="shipTableBody"></tbody>
                </table>
            </div>
        </div>

        <div class="tabcontent" id="map">
                <aside id="shipcard" class="shipcard-ismax">
                    <header id="shipcard_header">                        
                        <span onclick="toggleShipcardSize()" id="shipcard_header_title"></span>
                        <span><i title="Center map on current vessel" onclick="mapResetView(13)" class="shipcard-header-icon shipcard-min-only fa-solid fa-bullseye"></i></span>
                        <span><i title="Show track of current vessel" onclick="showTrack()" class="shipcard-header-icon  shipcard-min-only aside-toggle fa-solid fa-route "></i></span>
                        <span><i onclick="toggleShipcardSize()" class="shipcard-header-icon shipcard-min-only fa-solid fa-plus"></i></span>
                        <span><i onclick="toggleShipcardSize()" class="shipcard-header-icon  shipcard-max-only fa-solid fa-minus"></i></span>
                        <span><i onclick="showShipcard(null)" style="color: red;" class="shipcard-header-icon fa-sharp fa-solid fa-xmark fa-lg"></i></span>
                    </header>

                    <div id="shipcard_content">
                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>Status</span><span id="shipcard_status"></span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>Sender</span><span id="shipcard_type"></span></div>
                            <div><span>Ship type</span><span id="shipcard_shiptype"></span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>MMSI</span><span id="shipcard_mmsi">-</span></div>
                            <div><span>Callsign</span><span id="shipcard_callsign">-</span></div>
                            <div><span>IMO</span><span id="shipcard_imo">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-row-selected">
                            <div><span>Course</span><span id="shipcard_cog">-</span></div>
                            <div><span>Speed</span><span id="shipcard_speed">-</span></div>
                            <div><span>Heading</span><span id="shipcard_heading">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only ">
                            <div><span>Latitude</span><span id="shipcard_lat">-</span></div>
                            <div><span>Longitude</span><span id="shipcard_lon">-</span></div>
                            <div><span>Distance</span><span id="shipcard_distance">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>Destination</span><span id="shipcard_destination"></span></div>
                            <div><span>ETA</span><span id="shipcard_eta"></span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>last signal</span><span id="shipcard_last_signal"></span></div>
                            <div><span>Count</span><span id="shipcard_count">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>RSSI</span><span id="shipcard_level">-</span></div>
                            <div><span>Drift</span><span id="shipcard_ppm">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>Dimension</span><span id="shipcard_dimension">-</span></div>
                            <div><span>Draught</span><span id="shipcard_draught">-</span></div>
                        </div>

                        <div onclick="shipcardselect(this)" class="shipcard-content-row shipcard-max-only">
                            <div><span>Msg type</span><span id="shipcard_msgtypes">-</span></div>
                        </div>

                    </div>
                    <footer id="shipcard_footer" class="shipcard-footer shipcard-max-only">              
                        <div title="Center map on current vessel" onclick="mapResetView(13)"><i class="fa-solid fa-bullseye fa-xl"></i><span>Focus</span></div>
                        <div title="Show track of current vessel"  onclick="showTrack()"><i class="fa-solid fa-route fa-xl"></i><span>Track</span></div>
                    </footer>
            </aside>

            <div class="maptab">
                <div id="leaflet_map"></div>
            </div>
        </div>

    </div>
</div>
<div class="bottombar"></div>

<script>
    var chart_seconds, chart_minutes, interval, hist, ships, markers = {}, ship_shape = {}, map, basemaps = {}, overlapmaps = {}, shipsDB = {}, singleClickTimeout = null;

    var plugins = "", plugins_main = [];
    var card_mmsi = null, hover_mmsi = null, build_string = "unknown";

    var marker_focus = null, marker_hover = null, marker_showtrack = false, marker_track = null;

    // default settings
    var settings = { map: 'Voyager', zoom: 10, lat: 0, lon: 0, metric: "DEFAULT", setcoord: true, sort: 'distance', sort_dir: 'asc', tab: 'stat', labels: false, eri: true, loadURL: true};

    // some functions useful in plugins
    function addTileLayer(title,layer) { basemaps[title] = layer; }
    function removeTileLayer(title) { delete basemaps[title]; }
    function removeTileLayerAll() { basemaps = {}; }
    function addOverlayLayer(title,layer) { overlapmaps[title] = layer; }
    function removeOverlayLayer(title) { delete overlapmaps[title]; }
    function removeOverlayLayerAll() { overlapmaps = {}; }
    function addControlToMap(c) { c.addTo(map); }

    // transformations - for overwrite
    //getDimensionVal = c => Number(c).toFixed(0);
    //getDimensionUnit = c => "m";
    //getDistanceVal = c => Number(c).toFixed(1);
    //getDistanceUnit = c => "nmi";
    //getSpeedVal = c => Number(c).toFixed(1);
    //getSpeedUnit = c => "kts";
    getDimensionVal = c => settings.metric === "DEFAULT" ? Number(c).toFixed(0) : settings.metric === "SI" ? (Number(c).toFixed(0)) : (Number(c * 3.2808399).toFixed(0));
    getDimensionUnit = () => settings.metric === "DEFAULT" ? "m" : settings.metric === "SI" ? "m" : "ft";
    getDistanceConversion = c => settings.metric === "DEFAULT" ? c : settings.metric === "SI" ? (c * 1.852) : (c * 1.15078);
    getDistanceVal = c => Number(getDistanceConversion(c)).toFixed(1) ;
    getDistanceUnit = () => settings.metric === "DEFAULT" ? "nmi" : settings.metric === "SI" ? "km" : "mi";
    getSpeedVal = c => settings.metric === "DEFAULT" ? Number(c).toFixed(1) : settings.metric === "SI" ? (Number(c * 1.852).toFixed(1)) : (Number(c * 1.151).toFixed(1));
    getSpeedUnit = () => settings.metric === "DEFAULT" ? "kts" : settings.metric === "SI" ? "km/h" : "mph";

    getLatVal = ship =>  (ship.approx?"<i>":"") + Number(ship.lat).toFixed(5) + (ship.approx?"</i>":"") ;
    getLonVal = ship =>  (ship.approx?"<i>":"") + Number(ship.lon).toFixed(5) + (ship.approx?"</i>":"");
    getEtaVal = ship => (("0" + ship.eta_month).slice(-2)) + "-" + (("0" + ship.eta_day).slice(-2)) + " " + (("0" + ship.eta_hour).slice(-2)) + ":" + (("0" + ship.eta_minute).slice(-2));
    getDeltaTimeVal = s =>  s < 60 ? s + "s" : s < 60 * 60 ? Math.floor(s / 60) + "m " + (s % 60) + "s" : Math.floor(s / 3600) + "h " + Math.floor((s % 3600) / 60) + "m";
    getShipName = ship => ship.shipname;
    getCallSign = ship => ship.callsign;

    
    function getStatusVal(ship) {
        const StringFromStatus = ["Under way using engine",
            "At anchor",
            "Not under command",
            "Restricted manoeuverability",
            "Constrained",
            "Moored",
            "Aground",
            "Engaged in Fishing",
            "Under way sailing",
            "Reserved for HSC",
            "Reserved for WIG",
            "Reserved",
            "Reserved",
            "Reserved",
            "AIS-SART is active",
            "Not available"
        ];

        return StringFromStatus[Math.min(ship.status, 15)];
    }

    function getShipTypeVal(s) {
        if (s < 20) return "Not available";
        if (s <= 29) return "WIG";
        if (s <= 30) return "Fishing";
        if (s <= 32) return "Towing";
        if (s <= 34) return "Dredging/Diving ops";
        if (s <= 35) return "Military";
        if (s <= 36) return "Sailing";
        if (s <= 37) return "Pleasure Craft";
        if (s <= 39) return "Reserved";
        if (s <= 49) return "High Speed Craft";
        if (s <= 50) return "Pilot";
        if (s <= 51) return "Search And Rescue";
        if (s <= 52) return "Tug";
        if (s <= 53) return "Port tender";
        if (s <= 54) return "Anti-pollution equipment";
        if (s <= 55) return "Law Enforcement";
        if (s <= 57) return "Local Vessel";
        if (s <= 58) return "Medical Transport";
        if (s <= 59) return "Noncombatant ship";
        if (s <= 69) return "Passenger";
        if (s <= 79) return "Cargo";
        if (s <= 89) return "Tanker";
        if (s <= 99) return "Other";

        if((settings.eri==true || settings.eri==="true") && ((s >= 1500 && s <= 1920)  || (s >= 8000 && s <= 8510))) {
            switch(s) {
                case 8000: return "Unknown (inland AIS)";
                case 8010: return "Motor Freighter";
                case 8020: return "Motor Tanker";
                case 8021: return "Motor Tanker (liquid)";
                case 8022: return "Motor Tanker (liquid)";
                case 8023: return "Motor Tanker (dry)";
                case 8030: return "Container";
                case 8040: return "Gas Tanker";
                case 8050: return "Motor Freighter (tug)";
                case 8060: return "Motor Tanker (tug)";
                case 8070: return "Motor Freighter (alongside)";
                case 8080: return "Motor Freighter (with tanker)";
                case 8090: return "Motor Freighter (pushing)";
                case 8100: return "Motor Freighter (pushing)";
                case 8110: return "Tug, Freighter";
                case 8120: return "Tug, Tanker";
                case 8130: return "Tug Freighter (coupled)";
                case 8140: return "Tug, freighter/tanker";
                case 8150: return "Freightbarge";
                case 8160: return "Tankbarge";
                case 8161: return "Tankbarge (liquid)";
                case 8162: return "Tankbarge (liquid)";
                case 8163: return "Tankbarge (dry)";
                case 8170: return "Freightbarge (with containers)";
                case 8180: return "Tankbarge (gas)";
                case 8210: return "Pushtow (one cargo barge)";
                case 8220: return "Pushtow (two cargo barges)";
                case 8230: return "Pushtow, (three cargo barges)";
                case 8240: return "Pushtow (four cargo barges)";
                case 8250: return "Pushtow (five cargo barges)";
                case 8260: return "Pushtow (six cargo barges)";
                case 8270: return "Pushtow (seven cargo barges)";
                case 8280: return "Pushtow (eigth cargo barges)";
                case 8290: return "Pushtow (nine or more barges)";
                case 8310: return "Pushtow (one tank/gas barge)";
                case 8320: return "Pushtow (two barges)";
                case 8330: return "Pushtow (three barges)";
                case 8340: return "Pushtow (four barges)";
                case 8350: return "Pushtow (five barges)";
                case 8360: return "Pushtow (six barges)";
                case 8370: return "Pushtow (seven barges)";
                case 8380: return "Pushtow (eight barges)";
                case 8390: return "Pushtow (nine or more barges)";
                case 8400: return "Tug (single)";
                case 8410: return "Tug (one or more tows)";
                case 8420: return "Tug (assisting)";
                case 8430: return "Pushboat (single)";
                case 8440: return "Passenger";
                case 8441: return "Ferry";
                case 8442: return "Red Cross";
                case 8443: return "Cruise";
                case 8444: return "Passenger";
                case 8450: return "Service, Police or Port Service";
                case 8460: return "Maintainance Craft";
                case 8470: return "Object (towed)";
                case 8480: return "Fishing";
                case 8490: return "Bunkership";
                case 8500: return "Barge, Tanker, Chemical";
                case 8510: return "Object";
                case 1500: return "General";
                case 1510: return "Unit Carrier Maritime";
                case 1520: return "bulk Carrier Maritime";
                case 1530: return "Tanker";
                case 1540: return "Liquified Gas Tanker";
                case 1850: return "Pleasure";
                case 1900: return "Fast Ship";
                case 1910: return "Hydrofoil";
                case 1920: return "Catamaran Fast";
            }                
        }
        return "Unknown (" + s + ")";
    }

    const ShippingClass = {
        CARGO: 0,
        B: 1,
        PASSENGER: 2,
        SPECIAL: 3,
        TANKER: 4,
        HIGHSPEED: 5,
        PLANE: 6,
        HELICOPTER: 7,
        STATION: 8,
        ATON: 9,
        SARTEPIRB: 10,      
        FISHING: 12,
        OTHER: 13
    };

    // MMSI types from AIS-catcher
    const OTHER = 0;
    const CLASS_A = 1;
    const CLASS_B = 2;
    const BASESTATION = 3;
    const SAR = 4;
    const SARTEPIRB = 5;
    const ATON  = 6;

    const CLASS_A_MASK = 1 << 1 | 1 << 2 | 1 << 3 | 1 << 5;
    const CLASS_B_MASK = 1 << 18 | 1 << 19 | 1 << 24;
    const BASESTATION_MASK = 1 << 4;
    const SAR_MASK = 1 << 9;
    const ATON_MASK = 1 << 21;

    function getMMSItype(ship) {

        if ( (ship.mmsi > 111000000 && ship.mmsi < 111999999) || 
                (ship.mmsi > 11100000 && ship.mmsi < 11199999))
            return SAR;
            
        if(ship.msg_type & BASESTATION_MASK) return BASESTATION;
        if(ship.msg_type & SAR_MASK) return SAR;
        if(ship.msg_type & ATON_MASK) return ATON;

        if(ship.mmsi >= 97000000 && ship.mmsi <= 98000000)
            return SARTEPIRB;

        if(ship.msg_type & CLASS_A_MASK) return CLASS_A;
        if(ship.msg_type & CLASS_B_MASK) return CLASS_B;

        return OTHER;
    }

    function getShipTypeClassEri(ship) {
        switch(ship.shiptype) {
                case 8030: 
                case 8010: 
                case 8070: 
                case 8210: 
                case 8220: 
                case 8230:
                case 8240: 
                case 8250: 
                case 8260: 
                case 8270: 
                case 8280: 
                case 8290: 
                case 8310: 
                case 8320: 
                case 8330: 
                case 8340: 
                case 8350: 
                case 8360: 
                case 8370: 
                case 8380: 
                case 8390: 
                case 8130: 
                case 8140: 
                case 8150: 
                case 8170: 
                case 8410: return ShippingClass.CARGO;
                case 8020: 
                case 8021: 
                case 8022: 
                case 8023:
                case 8040: 
                case 8060: 
                case 8160: 
                case 8161: 
                case 8162: 
                case 8163: 
                case 8180: 
                case 8490: 
                case 8500:     
                case 1530: 
                case 1540: return ShippingClass.TANKER;      
                case 8050: 
                case 8080: 
                case 8090: 
                case 8100: 
                case 8110: 
                case 8120: 
                case 8400: 
                case 8420: 
                case 8430: 
                case 8450: 
                case 8460: 
                case 8470:                 
                case 8510: return ShippingClass.SPECIAL;
                case 8440: 
                case 8441: 
                case 8442: 
                case 8443: 
                case 8444: return ShippingClass.PASSENGER;
                case 8480: return ShippingClass.FISHING;                
                case 1850: return ShippingClass.B;
                case 1900: 
                case 1910: 
                case 1920: return ShippingClass.HIGHSPEED;
            }     
            return ShippingClass.OTHER;           
    }

    function getShipTypeClass(ship) {

        let c = ShippingClass.UNKNOWN;

        switch (ship.mmsi_type) {
            case CLASS_A:
                if (ship.shiptype >= 80 && ship.shiptype < 90) c = ShippingClass.TANKER;
                else if (ship.shiptype >= 70 && ship.shiptype < 80) c = ShippingClass.CARGO;
                else if (ship.shiptype >= 60 && ship.shiptype < 70) c = ShippingClass.PASSENGER
                else if (ship.shiptype >= 40 && ship.shiptype < 50) c = ShippingClass.HIGHSPEED;
                else if (ship.shiptype >= 50 && ship.shiptype < 60) c = ShippingClass.SPECIAL;
                else if (ship.shiptype == 30) c = ShippingClass.FISHING;
                else if((settings.eri==true || settings.eri==="true") && ((ship.shiptype >= 1500 && ship.shiptype <= 1920)  || (ship.shiptype >= 8000 && ship.shiptype <= 8510)))
                    c = getShipTypeClassEri(ship);                
                break;
            case CLASS_B:
                c = ShippingClass.B;
                break;
            case BASESTATION:                
                c = ShippingClass.STATION;
                break;
            case SAR:
                c = ShippingClass.HELICOPTER;
                if (ship.mmsi > 111000000 && ship.mmsi < 111999999) {
                    if (Math.floor((ship.mmsi / 100) % 10, 0) == 1) c = ShippingClass.PLANE;
                }
                else if (ship.mmsi > 11100000 && ship.mmsi < 11199999)
                    if (Math.floor((ship.mmsi / 10) % 10, 0) == 1) c = ShippingClass.PLANE;
                break;
            case SARTEPIRB:
                c = ShippingClass.SARTEPIRB;
                break;
            case ATON:
                c = ShippingClass.ATON;
                break;
        }

        return c;
    }


    function headerClick() {
        window.open('https://github.com/jvde-github/AIS-catcher');
    }

    function initMap() {

        map = L.map('map', { zoomControl: false, zoomSnap: 0.01 }).setView([settings.lat, settings.lon], settings.zoom);
        var control = L.control.layers(basemaps, overlapmaps, { title: 'Select map and overlays', position: 'bottomright' }).addTo(map);
        map.on('baselayerchange', function (event) { settings.map = event.name; saveSettings(); });
        map.on('mousemove', function (evt) { saveSettings(); updateTooltips(); });
        map.on('zoomend', function (evt) { saveSettings(); updateTooltips(); });
        map.on('click', function () { 
            if(singleClickTimeout==null) {
                singleClickTimeout = setTimeout(()=>{showShipcard(null); hideMenuifSmall(); singleClickTimeout = null; },400); 
            }
        });
        map.on('dblclick dragstart zoomstart', function () { if(singleClickTimeout!=null) {clearTimeout(singleClickTimeout); singleClickTimeout = null;} });


        map.addControl(new L.Control.Zoom({ position: 'bottomright' }));
        L.control.scale().addTo(map);

        ((settings.map in basemaps) ? basemaps[settings.map]: basemaps[Object.keys(basemaps)[0]]).addTo(map);

        map.createPane("locationMarker");
        map.getPane("locationMarker").style.zIndex = 999;

        L.DomEvent.disableClickPropagation(document.getElementById('shipcard'));
    }

    function addLabelControl() {
        // ------------
        var labelToggleControl = L.control({ position: 'bottomright' });

        labelToggleControl.onAdd = function (map) {

            var controlDiv = L.DomUtil.create('div', 'leaflet-control-layers');
            controlDiv.title="Toggle labels on screen";
            var controlBoundary = L.DomUtil.create('div', 'leaflet-control-label-toggle', controlDiv);
            var iconSpan = L.DomUtil.create('span', 'fas fa-location-dot', controlBoundary);

            controlDiv.addEventListener('click', function () {

                settings.labels = !settings.labels;
                saveSettings();

                if (!settings.labels) {
                    for (let [key, m] of Object.entries(markers))
                        if (m.isTooltipOpen()) m.getTooltip().toggle();
                }
                else
                    updateTooltips();
            });
            return controlDiv;
        };
        addControlToMap(labelToggleControl);
    }

    function showPlugins() {
        alert("Loaded plugins:\n" + plugins);
    }

   async function fetchStatistics() {
        try {
            response = await fetch('stat.json');
        } catch (error) {
            setPulseError();
            return;
        }
        statistics = await response.json();
        setPulseOk();
        return statistics;
    }

    async function fetchAbout() {
        try {
            response = await fetch('about.md');
        } catch (error) {
            return;
        }
        aboutmd = await response.text();
        return aboutmd;
    }

    async function fetchShips() {
        let ships = {};
        if(true) {
            try {
                response = await fetch('ships.json');
            } catch (error) {
                setPulseError();
                console.log("failed loading ships: " + error);
                return;                
            }
            ships = await response.json();
        }
        else {
            ships = JSON.parse(ships_json);
        }
        setPulseOk();        

        shipsDB = {};
        ships.ships.forEach(s => {
            let entry = {}; 
            s.mmsi_type = getMMSItype(s);
            entry.raw = s; 
            shipsDB[s.mmsi] = entry;
        });
    
        return ships.ships.length;
    }

    function toggleScreenSize() {
        var doc = window.document;
        var docEl = doc.documentElement;

        var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen || docEl.webkitEnterFullscreen;
        var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen || doc.webkitExitFullscreen;

        if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
            requestFullScreen.call(docEl);
        }
        else {
            cancelFullScreen.call(doc);
        }
    }

    function addShipcardItem(icon,txt,title, onclick) {
    
        const div = document.createElement('div');

        div.title = title;
        div.innerHTML = '<i class="'+icon+' fa-xl"></i><span>'+txt+'</span>';
        div.setAttribute("onclick",onclick);

       document.getElementById('shipcard_footer').appendChild(div);
    }

    function hideMenu() {
        if (document.getElementById("menubar").classList.contains('visible')) 
        {
            toggleMenu();
        }
    }

    function hideMenuifSmall() {
        //if(window.matchMedia("(max-height: 1000px)").matches)
        // always hide
        hideMenu();
    }

    function toggleMenu() {
        document.getElementById("menubar").classList.toggle('visible');
        document.getElementById("menubar_mini").classList.toggle('show');

        document.getElementById("header_menu_button").classList.toggle("fa-bars");
        document.getElementById("header_menu_button").classList.toggle("fa-xmark");
    }
    
    function initFullScreen() {
        document.addEventListener("fullscreenchange", handleFullScreenChange);
        document.addEventListener("mozfullscreenchange", handleFullScreenChange);
        document.addEventListener("webkitfullscreenchange", handleFullScreenChange);
        document.addEventListener("msfullscreenchange", handleFullScreenChange);
    }

    function handleFullScreenChange() {
        var icon = document.getElementById("screentoggle-id");
        if (document.fullscreenElement) {
            icon.classList.remove("fs-icon-normal");
            icon.classList.add("fs-icon-full");

        } else {
            icon.classList.remove("fs-icon-full");
            icon.classList.add("fs-icon-normal");
        }
    }
    
    // we calculate the lat/lon for 1m move in direction of heading
    // underlying calculation uses an offset of 100m and then scales down to 1.

    const cos100R = 0.9999999998770914;     // cos(100m / R);
    const sin100R = 1.567855942823164e-05;  // sin(100m / R)
    const rad = Math.PI / 180;
    const radInv = 180 / Math.PI;

    function calcOffset1M(latlng, heading) {
        
        const lat = latlng.lat * rad;
        
        const rheading = ((heading + 360) % 360) * rad;
        const sinLat = Math.sin(lat);
        const cosLat = Math.cos(lat);

        let sinLat2 = sinLat * cos100R + cosLat * sin100R * Math.cos(rheading);
        let lat2 = Math.asin(sinLat2);
        let deltaLon = Math.atan2(Math.sin(rheading) * sin100R * cosLat, cos100R - sinLat * sinLat2);

        // normalize to 1 meter (from 100m)
        return [(lat2 * radInv - latlng.lat)/100, (deltaLon * radInv)/100];
    }

    function calcMove(latlng,delta,distance) {
        return L.latLng([latlng.lat + delta[0]  * distance, latlng.lng + delta[1] * distance]);
    }

    function drawShipOutline(ship) {

        if (ship == null) return;

        let style = {};

        const latlng = L.latLng(ship.lat, ship.lon);
        const to_bow = ship.to_bow, to_stern = ship.to_stern, to_port = ship.to_port, to_starboard = ship.to_starboard;
        let heading = ship.heading;

        if (to_bow == null || to_stern == null || to_port == null || to_starboard == null) return;
        
        if (heading == null) {
            style.dashArray = '5, 5';
            style.dashOffset = '0';

            if (ship.cog != null && ship.speed > 1) heading = ship.cog;
        }

        
        let col = { color: 'grey', fillColor: 'grey'};
        if(ship.mmsi == hover_mmsi) col = { color: 'orange', fillColor: 'orange'};
        else if (ship.mmsi == card_mmsi) col = { color: '#943b3e', fillColor: '#943b3e'}; 

        if (heading != null) {
            const deltaBow = calcOffset1M(latlng, (heading) % 360);
            const deltaStarboard = calcOffset1M(latlng,  (heading + 90) % 360);

            const bow = calcMove(latlng, deltaBow, to_bow);
            const stern = calcMove(latlng, deltaBow, -to_stern);

            const A = calcMove(stern,deltaStarboard,to_starboard);
            const B = calcMove(stern,deltaStarboard,-to_port);
            const C = calcMove(B, deltaBow, 0.8 * (to_bow + to_stern));
            const Dmid = calcMove(C, deltaStarboard, 0.5 * (to_starboard + to_port));
            const D = calcMove(Dmid, deltaBow, 0.2 * (to_bow + to_stern));
            const E = calcMove(C, deltaStarboard, to_starboard + to_port);

            const ship_outline = [];

            ship_outline.push(A);
            ship_outline.push(B);
            ship_outline.push(C);
            ship_outline.push(D);
            ship_outline.push(E);

            return L.polygon(ship_outline, { ...col, fillOpacity: 0.2, ...style }).addTo(map);
        }
        else {

            const a = Math.max(to_bow, to_stern), b = Math.max(to_starboard, to_port);
            const r = Math.sqrt(a * a + b * b);

            if (r < 2 || r > 300) return null;
            return L.circle(latlng, { radius: r, ...col, fillOpacity: 0.2, ...style }).addTo(map);
        }

        return null;
    }

    function average(d) {
        const b = d.chart.data.datasets[0].data;
        if (b.length == 1) return b[0].y;

        var c = 0;
        for (a = 0; a < b.length; a++) {
            if (b[a].x != 0) {
                for (i = 0; i < d.chart.data.datasets.length; i++) {
                    c += d.chart.data.datasets[i].data[a].y;
                }
            }
        }
        return c / (b.length - 1);
    }

    const graph_annotation = {
        type: 'line',
        borderColor: 'rgba(12,118,170)',
        borderDash: [6, 6],
        borderDashOffset: 0,
        borderWidth: 3,
        scaleID: 'y',
        value: a => average(a)
    };

    const graph_options_count = {
        responsive: true,
        plugins: {
            legend: {
                display: true,
            },
            annotation: {
                annotations: {
                    graph_annotation
                }
            }
        },
        elements: {
            point: {
                radius: 1
            }
        },
        animation: false,
        tooltips: {
            mode: 'index',
            intersect: false
        },
        hover: {
            mode: 'index',
            intersect: false
        },
        scales: {
            y: {
                stacked: true,
                beginAtZero: true,
                ticks: {
                    display: true
                }
            },
            x: {
                ticks: {
                    display: true
                }
            }
        }
    };


    const graph_options_single = {
        responsive: true,
        plugins: {
            legend: {
                display: false
            },
            annotation: {
                annotations: {
                    graph_annotation
                }
            }
        },
        elements: {
            point: {
                radius: 1
            }
        },
        animation: false,
        tooltips: {
            mode: 'index',
            intersect: false
        },
        hover: {
            mode: 'index',
            intersect: false
        },
        scales: {
            y: {
                stacked: true,
                beginAtZero: true,
                ticks: {
                    display: true
                }
            },
            x: {
                ticks: {
                    display: true
                }
            }
        }
    };

    const graph_options_level = {
        responsive: true,
        plugins: {
            legend: {
                display: false
            }
        },
        elements: {
            point: {
                radius: 1
            }
        },
        animation: false,
        tooltips: {
            mode: 'index',
            intersect: false
        },
        hover: {
            mode: 'index',
            intersect: false
        },
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    display: true
                }
            },
            x: {
                ticks: {
                    display: true
                }
            }
        }
    };

    const graph_options_distance = {
        responsive: true,
        plugins: {
            legend: {
                display: true,
            }
        },
        elements: {
            point: {
                radius: 1
            }
        },
        animation: false,
        tooltips: {
            mode: 'index',
            intersect: false
        },
        hover: {
            mode: 'index',
            intersect: false
        },
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    display: true
                }
            },
            x: {
                ticks: {
                    display: true
                }
            }
        }
    };

    plot_count = {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Class A',
                data: [],
                showLine: true,
                fill: true,
                backgroundColor: getComputedStyle(document.body).getPropertyValue('--chart1-color'),
                borderColor: getComputedStyle(document.body).getPropertyValue('--chart1-color'),
                borderWidth: 2,
                pointStyle: false
            },
            {
                label: 'Class B',
                data: [],
                showLine: true,
                fill: '-1',
                backgroundColor: getComputedStyle(document.body).getPropertyValue('--chart2-color'),
                borderColor: getComputedStyle(document.body).getPropertyValue('--chart2-color'),
                borderWidth: 2,
                pointStyle: false
            },
            {
                label: 'Base Station',
                data: [],
                showLine: true,
                backgroundColor: getComputedStyle(document.body).getPropertyValue('--chart5-color'),
                borderColor: getComputedStyle(document.body).getPropertyValue('--chart5-color'),
                fill: '-1',
                borderWidth: 2,
                pointStyle: false
            },
            {
                label: 'Other',
                data: [],
                showLine: true,
                backgroundColor: getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                borderColor: getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                fill: '-1',
                borderWidth: 2,
                pointStyle: false
            }]
        },
        options: graph_options_count
    };


    plot_distance = {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'NE',
                data: [],
                showLine: true,
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart1-color'),
                borderColor:  getComputedStyle(document.body).getPropertyValue('--chart1-color'),
                pointStyle: false,
                borderWidth: 2
            },
            {
                label: 'SE',
                data: [],
                showLine: true,
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart2-color'),
                borderColor:  getComputedStyle(document.body).getPropertyValue('--chart2-color'),
                pointStyle: false,
                borderWidth: 2
            }, {
                label: 'SW',
                data: [],
                showLine: true,
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart3-color'),
                borderColor:  getComputedStyle(document.body).getPropertyValue('--chart3-color'),
                pointStyle: false,
                borderWidth: 2
            },
            {
                label: 'NW',
                data: [],
                showLine: true,
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                borderColor:  getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                pointStyle: false,
                borderWidth: 2
            },
            {
                label: 'Max',
                data: [],
                showLine: true,
                backgroundColor: 'rgb(211,211,211,0.9)',
                fill: true,
                pointStyle: false,
                borderWidth: 0
            }]
        },
        options: graph_options_distance
    };

    plot_single = {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Data',
                data: [],
                showLine: true,
                backgroundColor: getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                borderColor: getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                pointStyle: false,
                borderWidth: 2
            }]
        },
        options: graph_options_single
    };

    plot_level = {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Max',
                data: [],
                showLine: true,
                pointStyle: false,
                borderWidth: 1
            },{
                label: 'Min',
                data: [],
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart1-color'),
                showLine: true,
                pointStyle: false,
                borderWidth: 1,
                fill: '-1'
            }]
        },
        options: graph_options_level
    };

    
    var plot_radar = {
        type: "polarArea",
        animation: false,
        responsive: true,
        plugins: {
            legend: {
                display: true }
            },
        data: {
            datasets: [{
                label: 'Class B',
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart2-color'),
                borderWidth: 1
            },{
                label: 'Class A',
                backgroundColor:  getComputedStyle(document.body).getPropertyValue('--chart4-color'),
                borderWidth: 1
            }]
        },
        options: {
            legend: {
                display: false
            },
            scale: {
                ticks: {
                    min: 0,
                }
            }
        }
    };

    function initPlots() {
        chart_radar_hour = new Chart(document.getElementById('chart-radar-hour').getContext("2d"), plot_radar);
        chart_radar_day = new Chart(document.getElementById('chart-radar-day').getContext("2d"), plot_radar);
        chart_seconds = new Chart(document.getElementById('chart-seconds'), plot_count);
        chart_minutes = new Chart(document.getElementById('chart-minutes'), plot_count);
        chart_hours = new Chart(document.getElementById('chart-hours'), plot_count);
        chart_days = new Chart(document.getElementById('chart-days'), plot_count);
        chart_ppm = new Chart(document.getElementById('chart-ppm'), plot_single);
        chart_ppm_minute = new Chart(document.getElementById('chart-ppm-minute'), plot_single);
        chart_level = new Chart(document.getElementById('chart-level'), plot_level);
        chart_distance_hour = new Chart(document.getElementById('chart-distance-hour'), plot_distance);
        chart_distance_day = new Chart(document.getElementById('chart-distance-day'), plot_distance);
    }

    function shipcardismax() {
        return document.getElementById('shipcard').classList.contains('shipcard-ismax');
    }
    function shipcardselect(e) {
        if (shipcardismax()) {
            e.classList.toggle('shipcard-max-only');
            e.classList.toggle('shipcard-row-selected');
        }
        else
            toggleShipcardSize();
    }

    function toggleShipcardSize() {

        Array.from(document.getElementsByClassName('shipcard-min-only')).forEach(e => e.classList.toggle("visible"));
        Array.from(document.getElementsByClassName('shipcard-max-only')).forEach(e => e.classList.toggle("hide"));

        document.getElementById('shipcard').classList.toggle('shipcard-ismax');

        var e = document.getElementById('shipcard_content').children;

        if (shipcardismax()) {
            for (let i = 0; i < e.length; i++) {
                if (e[i].classList.contains('shipcard-max-only') && e[i].classList.contains('shipcard-row-selected') ||
                    !e[i].classList.contains('shipcard-max-only') && !e[i].classList.contains('shipcard-row-selected'))
                    e[i].classList.toggle('shipcard-row-selected');
            }
        }
        else {
            for (let i = 0; i < e.length; i++) {
                if (e[i].classList.contains('shipcard-row-selected'))
                    e[i].classList.toggle('shipcard-row-selected');
            }
        }
    }

    function setPulseOk() {
        document.getElementById("pulse-id").className = "header-pulse-ok";
    }

    function setPulseError() {
        document.getElementById("pulse-id").className = "header-pulse-error";
    }

    function getFlag(country) {
        return country ? `<span style="padding-right: 10px" title="`+country+`" class="fi fi-${country.toLowerCase()}"></span> ` : "";

    }

    // fetches main statistics from the server
    async function fetchStatistics() {
        try {
            response = await fetch('stat.json');
        } catch (error) {
            setPulseError();
            return;
        }
        statistics = await response.json();
        setPulseOk();
        return statistics;
    }

    async function updateStatistics() {
        var stat = await fetchStatistics();            

        if(stat) {
            // in bulk....
            ['build_describe','build_date','station','product','vendor','serial','model','sample_rate','received', 'vessel_count'].forEach(e =>  document.getElementById('stat_'+e).innerHTML = stat[e]);
            ['stat','last_minute','last_day','last_hour'].forEach(e =>  document.getElementById('stat_'+e+'_count').innerHTML = stat[e].count);
            [0,1,2,3].forEach(e =>  document.getElementById('stat_stat_channel'+e).innerHTML = stat.stat.channel[e]);

            // special formatting
            document.getElementById("stat_msg_rate").innerHTML = Number(stat.msg_rate).toFixed(1) + " msg/s";
            document.getElementById("stat_run_time").innerHTML = getDeltaTimeVal(stat.run_time);

            document.getElementById("stat_stat_msg123").innerHTML =stat.stat.msg[0] + stat.stat.msg[1] + stat.stat.msg[2];
            document.getElementById("stat_stat_msg5").innerHTML = stat.stat.msg[4];
            document.getElementById("stat_stat_msg1819").innerHTML = stat.stat.msg[17] + stat.stat.msg[18];
            document.getElementById("stat_stat_msg24").innerHTML = stat.stat.msg[23];
            document.getElementById("stat_stat_msg4").innerHTML = stat.stat.msg[3];
            document.getElementById("stat_stat_msg9").innerHTML = stat.stat.msg[8];
            document.getElementById("stat_stat_msg21").innerHTML = stat.stat.msg[20];

            var count_other = 0;
            [6,7,8,10,11,12,13,14,15,16,17,20,22,23,25,26,27].forEach(i => count_other += stat.stat.msg[i-1]);
            document.getElementById("stat_stat_msgother").innerHTML =count_other;

            if (stat.station_link != "") 
                document.getElementById("stat_station").innerHTML = "<a href='" + stat.station_link + "'>" + stat.station + "</a>";
        
            var title = document.getElementById("stat_station").textContent;
            if (title != "" && title != null) document.title = "AIS-catcher " + title;
        }
    }
    
    function updateChartMulti(b, f, c) {
        if (b.hasOwnProperty(f)) {
            var hA = [];
            var hB = [];
            var hT = [];
            var hS = [];

            const source = b[f];
            for (let i = 0; i < source.time.length; i++) {
                let cA = source.stat[i].msg[0] + source.stat[i].msg[1] + source.stat[i].msg[2] + source.stat[i].msg[4];
                hA.push({ x: source.time[i], y: cA });
                let cB = source.stat[i].msg[17] + source.stat[i].msg[18] + source.stat[i].msg[23];
                hB.push({ x: source.time[i], y: cB });
                let cS = source.stat[i].msg[3];
                hS.push({ x: source.time[i], y: cS });
                let cT = source.stat[i].count - cA - cB - cS;
                hT.push({ x: source.time[i], y: cT });
            }
            c.data.datasets[0].data = hA;
            c.data.datasets[1].data = hB;
            c.data.datasets[2].data = hS;
            c.data.datasets[3].data = hT;

            c.update();
        }
    }

    function updateChartDistance(b, f, c) {
        if (b.hasOwnProperty(f)) {
            var hNE = [];
            var hSE = [];
            var hSW = [];
            var hNW = [];
            var hM = [];

            let source = b[f];

            if (source.stat[0].radar_a.length == 0) return;
            let N = source.stat[0].radar_a.length;
            let N4 = N / 4;
            for (let i = 0; i < source.time.length; i++) {
                let count = [0, 0, 0, 0];
                for (let j = 0; j < N; j++)
                    count[Math.floor(j / N4)] = Math.max(count[Math.floor(j / N4)], source.stat[i].radar_a[j]);

                hNE.push({ x: source.time[i], y: getDistanceConversion(count[0]) }); // source.stat[i].radar[0]
                hSE.push({ x: source.time[i], y: getDistanceConversion(count[1]) });
                hSW.push({ x: source.time[i], y: getDistanceConversion(count[2]) });
                hNW.push({ x: source.time[i], y: getDistanceConversion(count[3]) });
                hM.push({ x: source.time[i], y: getDistanceConversion(source.stat[i].dist) });
            }
            c.data.datasets[0].data = hNE;
            c.data.datasets[1].data = hSE;
            c.data.datasets[2].data = hSW;
            c.data.datasets[3].data = hNW;
            c.data.datasets[4].data = hM;

            c.update();
        }
    }

    function updateChartSingle(b, f1, f2, c) {
        if (b.hasOwnProperty(f1)) {
            var h = [];

            const source = b[f1];
            for (let i = 0; i < source.time.length; i++) {
                h.push({ x: source.time[i], y: source.stat[i][f2] });
            }
            c.data.datasets[0].data = h;
            c.update();
        }
    }

    function updateChartLevel(b, f1, f2, c) {
        if (b.hasOwnProperty(f1)) {
            const source = b[f1];

            var h = [];

            for (let i = 0; i < source.time.length; i++) {
                h.push({ x: source.time[i], y: source.stat[i].level_min == 0 ? null : source.stat[i].level_min });
            }
            c.data.datasets[1].data = h;

            var h = [];
            for (let i = 0; i < source.time.length; i++) {
                h.push({ x: source.time[i], y: source.stat[i].level_max == 0 ? null : source.stat[i].level_max });
            }
            c.data.datasets[0].data = h;

            c.update();
        }
    }

    function updateRadar(b, f, c) {
        if (b.hasOwnProperty(f)) {
            var data_a = [], data_b = [];
            let idx = 0;
            if (b[f].stat.length > 1) idx = 1;
            let N = b[f].stat[idx].radar_a.length;
            for (var i = 0; i < N; i++) {
                data_a.push({
                    r: getDistanceConversion(b[f].stat[idx].radar_a[i]),
                    theta: i * 360/N
                });
                data_b.push({
                    r: getDistanceConversion(b[f].stat[idx].radar_b[i]),
                    theta: i * 360/N
                });
            }
            c.data.datasets[0].data = data_b;
            c.data.datasets[1].data = data_a;
            c.update();
        }

    }

    async function updatePlots() {

        const unit = getDistanceUnit().toUpperCase();  
        document.querySelectorAll('.distunit').forEach(u => { u.textContent = unit;});

        if(true) {
            try {
                response = await fetch('history_full.json');
            } catch (error) {
                setPulseError();
            }
            b = await response.json();
        }
        else {
            //chart_json = '{"second":{"time":[0,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15,-16,-17,-18,-19,-20,-21,-22,-23,-24,-25,-26,-27,-28,-29,-30,-31,-32,-33,-34,-35,-36,-37,-38,-39,-40,-41,-42,-43,-44,-45,-46,-47,-48,-49,-50,-51,-52,-53,-54,-55,-56,-57,-58,-59],"stat":[{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-18.416082,"level_max":-15.592862,"ppm":-0.868056,"dist":12.275457,"channel":[1,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.275457,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-15.693806,"level_max":-12.217009,"ppm":-0.723380,"dist":12.414401,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.414401,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-5.950686,"level_max":-5.950686,"ppm":-1.446759,"dist":2.876654,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":3,"level_min":-18.686529,"level_max":-13.779442,"ppm":-1.060957,"dist":2.732852,"channel":[3,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.732852,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]},{"count":2,"level_min":-16.740343,"level_max":-15.560268,"ppm":-0.144676,"dist":12.416094,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.416094,0.000000,0.000000,2.945479,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-14.014208,"level_max":-13.872914,"ppm":0.000000,"dist":0.000000,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":2,"level_min":-16.838245,"level_max":-13.713667,"ppm":0.144676,"dist":2.895082,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.895082,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-13.129189,"level_max":-13.129189,"ppm":-1.736111,"dist":9.928713,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":4,"level_min":-17.211336,"level_max":-6.825221,"ppm":-0.795718,"dist":12.414999,"channel":[0,4,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.414999,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[2,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-16.839874,"level_max":-16.839874,"ppm":-0.578704,"dist":2.945594,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.945594,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-12.714927,"level_max":-12.714927,"ppm":-0.868056,"dist":10.866032,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.866032,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-14.406755,"level_max":-14.406755,"ppm":-0.289352,"dist":0.000000,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-15.970730,"level_max":-15.970730,"ppm":2.604167,"dist":0.000000,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-12.391080,"level_max":-12.391080,"ppm":-1.446759,"dist":9.928713,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-14.197599,"level_max":-6.334708,"ppm":-0.723380,"dist":2.876654,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-17.288649,"level_max":-17.288649,"ppm":-0.578704,"dist":10.474186,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474186,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-15.796055,"level_max":-15.796055,"ppm":0.578704,"dist":0.000000,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-13.817849,"level_max":-13.817849,"ppm":-0.289352,"dist":0.000000,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-12.235220,"level_max":-12.235220,"ppm":-1.736111,"dist":9.928713,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-17.026638,"level_max":-15.422984,"ppm":0.000000,"dist":2.759505,"channel":[1,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.759505,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-6.836423,"level_max":-6.836423,"ppm":-1.446759,"dist":2.876654,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-15.971721,"level_max":-15.971721,"ppm":-0.578704,"dist":2.946365,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.946365,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-13.990842,"level_max":-13.990842,"ppm":0.000000,"dist":0.000000,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-16.086884,"level_max":-16.086884,"ppm":0.000000,"dist":0.000000,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-13.794480,"level_max":-12.525372,"ppm":-1.591435,"dist":9.928713,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,8.442300,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-13.582472,"level_max":-13.582472,"ppm":-1.157407,"dist":13.114855,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,13.114855,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-14.073655,"level_max":-6.261410,"ppm":-0.868056,"dist":2.876654,"channel":[2,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":4,"level_min":-17.935661,"level_max":-15.855403,"ppm":0.434028,"dist":12.415248,"channel":[4,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.415248,0.000000,0.000000,2.946594,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-17.798409,"level_max":-17.798409,"ppm":-0.868056,"dist":12.156157,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.156157,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-17.668648,"level_max":-14.097090,"ppm":-0.144676,"dist":10.287413,"channel":[1,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.287413,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-12.707548,"level_max":-12.707548,"ppm":-1.157407,"dist":9.928713,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-13.198067,"level_max":-13.198067,"ppm":-0.289352,"dist":0.000000,"channel":[1,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-16.082689,"level_max":-6.799380,"ppm":-0.578704,"dist":2.876654,"channel":[0,2,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.876654,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":2,"level_min":-17.020435,"level_max":-16.591490,"ppm":-0.434028,"dist":2.946660,"channel":[1,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.946660,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":1,"level_min":-16.874332,"level_max":-16.874332,"ppm":0.000000,"dist":12.414020,"channel":[0,1,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.414020,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":0,"level_min":0.000000,"level_max":0.000000,"ppm":0.000000,"dist":0.000000,"channel":[0,0,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},"minute":{"time":[0,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15,-16,-17,-18,-19,-20,-21,-22,-23,-24,-25,-26,-27,-28,-29,-30,-31,-32,-33,-34,-35,-36,-37,-38,-39,-40,-41,-42,-43,-44,-45,-46,-47,-48,-49,-50,-51,-52,-53,-54,-55,-56,-57,-58,-59],"stat":[{"count":24,"level_min":-18.686529,"level_max":-5.950686,"ppm":-0.554591,"dist":12.416094,"channel":[15,9,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.416094,12.275457,0.000000,2.945594,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[8,0,4,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0]},{"count":56,"level_min":-18.370077,"level_max":-6.127845,"ppm":-0.568370,"dist":13.114855,"channel":[30,26,0,0],"radar_a":[9.009683,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208537,0.000000,12.415248,13.114855,0.000000,2.946741,0.000000,8.442300,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[25,0,6,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":60,"level_min":-18.828510,"level_max":-4.726771,"ppm":-0.829475,"dist":13.374125,"channel":[30,30,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.583665,11.870079,0.000000,13.374125,12.072454,0.000000,2.946840,0.000000,8.335013,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[22,0,9,24,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":63,"level_min":-18.882380,"level_max":-4.583201,"ppm":-0.569518,"dist":12.413209,"channel":[31,32,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,12.189245,0.000000,12.413209,0.000000,0.000000,2.946054,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852661,0.000000,0.000000,0.000000],"msg":[23,0,7,22,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,6,0,0,0,0,0,0]},{"count":52,"level_min":-19.286474,"level_max":-5.778769,"ppm":-0.684428,"dist":12.980706,"channel":[28,24,0,0],"radar_a":[9.007835,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.561804,0.000000,0.000000,12.417168,12.980706,0.000000,2.947201,0.000000,8.445410,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[20,0,5,24,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":65,"level_min":-18.089020,"level_max":-4.149944,"ppm":-0.890313,"dist":13.374633,"channel":[37,28,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870089,0.000000,13.374633,11.690071,0.000000,2.947776,0.000000,8.338347,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[26,0,9,22,6,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":73,"level_min":-18.783022,"level_max":-5.590385,"ppm":-0.737253,"dist":12.414654,"channel":[39,34,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.738580,10.889030,12.414654,0.000000,0.000000,2.947661,0.000000,6.492468,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[34,0,9,23,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0]},{"count":63,"level_min":-19.383787,"level_max":-5.604771,"ppm":-0.817534,"dist":13.116564,"channel":[33,30,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.207717,10.335809,12.413113,13.116564,0.000000,2.947923,0.000000,8.449883,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[33,0,5,21,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]},{"count":71,"level_min":-18.751343,"level_max":-4.560122,"ppm":-0.957714,"dist":14.176077,"channel":[37,34,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870663,0.000000,14.176077,0.000000,0.000000,2.986402,0.000000,7.406203,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[35,0,8,22,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":63,"level_min":-19.026892,"level_max":-4.599159,"ppm":-0.698119,"dist":13.956139,"channel":[37,26,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.626400,0.000000,10.342388,12.416046,13.956139,0.000000,2.946774,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[28,0,3,23,3,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0]},{"count":69,"level_min":-20.654905,"level_max":-5.705805,"ppm":-0.876442,"dist":12.417259,"channel":[35,34,0,0],"radar_a":[9.008847,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,12.207789,10.484720,12.417259,0.000000,0.000000,2.953205,0.000000,8.450956,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[35,0,7,22,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":64,"level_min":-18.688139,"level_max":-4.007380,"ppm":-0.795718,"dist":13.374457,"channel":[35,29,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.871184,10.484883,13.374457,0.000000,0.000000,2.946840,0.000000,7.410123,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[29,0,9,20,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":70,"level_min":-20.299601,"level_max":-5.742893,"ppm":-0.727513,"dist":12.414312,"channel":[33,37,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.070245,11.431424,12.414312,0.000000,0.000000,2.947135,0.000000,6.489322,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852133,0.000000,0.000000,0.000000],"msg":[34,0,7,22,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0]},{"count":79,"level_min":-19.378197,"level_max":-5.676272,"ppm":-0.662945,"dist":13.117824,"channel":[43,36,0,0],"radar_a":[9.011284,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.206478,10.485878,12.416053,13.117824,0.000000,2.947021,0.000000,8.453868,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[42,0,13,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":77,"level_min":-19.284086,"level_max":-4.529861,"ppm":-0.898118,"dist":14.173962,"channel":[44,33,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.298785,11.871175,11.590413,14.173962,0.000000,0.000000,2.986452,0.000000,7.830225,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[41,0,8,22,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":77,"level_min":-19.419916,"level_max":-4.200686,"ppm":-0.804173,"dist":14.173962,"channel":[43,34,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.225945,12.151865,11.627145,14.173962,0.000000,0.000000,2.946807,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[38,0,5,23,4,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0]},{"count":64,"level_min":-19.530319,"level_max":-5.712877,"ppm":-0.786675,"dist":13.117672,"channel":[33,31,0,0],"radar_a":[9.014969,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.206786,12.206491,10.488452,12.418573,13.117672,0.000000,2.947086,0.000000,8.453716,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[30,0,6,23,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":79,"level_min":-18.824158,"level_max":-4.102282,"ppm":-0.838754,"dist":14.173537,"channel":[44,35,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.062496,10.486700,14.173537,0.000000,0.000000,3.051857,0.000000,7.411522,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[35,0,14,22,7,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":77,"level_min":-19.681337,"level_max":-5.619185,"ppm":-0.819204,"dist":14.173537,"channel":[37,40,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.809312,14.173537,0.000000,0.000000,2.953642,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852133,0.000000,0.000000,0.000000],"msg":[37,0,10,22,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,4,0,0,0,0,0,0]},{"count":70,"level_min":-19.173393,"level_max":-5.504317,"ppm":-0.901124,"dist":13.116314,"channel":[34,36,0,0],"radar_a":[9.014966,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208325,11.812187,12.416971,13.116314,0.000000,2.946513,0.000000,8.454512,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[35,0,9,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]},{"count":79,"level_min":-19.117699,"level_max":-4.510883,"ppm":-0.846080,"dist":13.374633,"channel":[42,37,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870802,10.486633,13.374633,13.366393,0.000000,2.952963,0.000000,7.409116,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[38,0,11,24,3,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":80,"level_min":-18.775944,"level_max":-3.993116,"ppm":-0.716146,"dist":12.417426,"channel":[44,36,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,0.000000,10.493159,12.417426,0.000000,0.000000,2.952035,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852015,0.000000,0.000000,0.000000],"msg":[36,0,11,23,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,5,0,0,0,0,0,0]},{"count":76,"level_min":-19.175400,"level_max":-5.561447,"ppm":-0.788103,"dist":14.083570,"channel":[37,39,0,0],"radar_a":[9.013944,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.559498,12.206243,10.520613,12.417295,14.083570,0.000000,2.946498,0.000000,8.454522,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[37,0,10,23,3,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":93,"level_min":-18.840834,"level_max":-4.230396,"ppm":-1.039178,"dist":13.859294,"channel":[52,41,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.871240,10.531299,13.373587,13.859294,0.000000,2.946250,0.000000,7.405709,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[55,0,9,23,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":84,"level_min":-19.471550,"level_max":-5.696054,"ppm":-0.499476,"dist":14.172900,"channel":[40,44,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.738737,10.568890,14.172900,13.773933,0.000000,2.945598,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852543,0.000000,0.000000,0.000000],"msg":[43,0,7,24,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,5,0,0,1,0,0,0]},{"count":75,"level_min":-19.242113,"level_max":-5.711459,"ppm":-0.567130,"dist":13.556246,"channel":[41,34,0,0],"radar_a":[9.013950,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208111,10.600897,12.415020,13.556246,0.000000,2.946971,0.000000,8.454573,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[42,0,8,22,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]},{"count":87,"level_min":-19.100851,"level_max":-4.584989,"ppm":-0.615288,"dist":14.172900,"channel":[46,41,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.559313,11.870793,10.609304,14.172900,0.000000,0.000000,2.986849,0.000000,6.469898,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[45,0,13,23,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":82,"level_min":-18.845844,"level_max":-4.620920,"ppm":-0.656335,"dist":14.172900,"channel":[40,42,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,11.777133,10.483267,14.172900,0.000000,0.000000,2.946269,0.000000,6.476753,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.851424,0.000000,0.000000,0.000000],"msg":[31,0,20,21,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,5,0,0,0,0,0,0]},{"count":83,"level_min":-19.196003,"level_max":-5.004299,"ppm":-0.589162,"dist":13.020122,"channel":[45,38,0,0],"radar_a":[9.013942,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.483811,12.416776,13.020122,0.000000,2.946334,0.000000,8.452595,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[35,0,21,23,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":70,"level_min":-19.249180,"level_max":-4.157182,"ppm":-0.297619,"dist":13.374946,"channel":[38,32,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870144,10.484118,13.374946,11.767039,0.000000,2.946433,0.000000,6.477651,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[25,0,13,24,7,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":81,"level_min":-19.357445,"level_max":-5.755671,"ppm":-0.157179,"dist":14.173429,"channel":[42,39,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.738132,10.484052,14.173429,12.675190,0.000000,2.946334,0.000000,6.472936,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.851188,0.000000,0.000000,0.000000],"msg":[31,0,18,24,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,4,0,0,1,0,0,0]},{"count":74,"level_min":-18.311485,"level_max":-6.023867,"ppm":-0.398836,"dist":13.115912,"channel":[38,36,0,0],"radar_a":[9.015578,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208199,10.486759,12.414349,13.115912,0.000000,2.947022,0.000000,8.450601,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[42,0,7,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":79,"level_min":-20.205318,"level_max":-4.903202,"ppm":-0.553065,"dist":23.830057,"channel":[45,34,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.558040,11.867671,10.794086,13.374888,0.000000,0.000000,2.986849,0.000000,7.398041,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[30,0,20,22,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":81,"level_min":-18.517220,"level_max":-4.190406,"ppm":-0.432242,"dist":12.413286,"channel":[42,39,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,11.696892,10.882044,12.413286,0.000000,0.000000,2.946332,0.000000,6.475877,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.851130,0.000000,0.000000,0.000000],"msg":[33,0,15,21,4,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,6,0,0,0,0,0,0]},{"count":76,"level_min":-18.830719,"level_max":-6.144781,"ppm":-0.019036,"dist":12.414847,"channel":[42,34,0,0],"radar_a":[9.016390,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208237,10.922489,12.414847,11.927662,0.000000,2.946545,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[37,0,12,22,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":76,"level_min":-19.628981,"level_max":-4.227126,"ppm":-0.624391,"dist":13.374876,"channel":[40,36,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870144,11.019486,13.374876,12.139196,0.000000,2.946480,0.000000,6.481560,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[40,0,8,22,5,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":85,"level_min":-19.296482,"level_max":-5.895886,"ppm":-0.486792,"dist":12.413858,"channel":[45,40,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,11.323279,11.059588,12.413858,11.945210,0.000000,2.946660,0.000000,6.473675,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[43,0,13,21,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,1,0,0,0]},{"count":71,"level_min":-19.360161,"level_max":-6.040159,"ppm":-0.476819,"dist":12.415267,"channel":[35,36,0,0],"radar_a":[9.016565,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208231,11.141223,12.415267,11.514525,0.000000,2.946200,0.000000,8.452584,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[38,0,8,21,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]},{"count":64,"level_min":-18.953363,"level_max":-4.780193,"ppm":-0.664605,"dist":12.414090,"channel":[32,32,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870852,10.484643,12.414090,0.000000,0.000000,2.945939,0.000000,7.410004,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[31,0,6,20,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":71,"level_min":-19.635761,"level_max":-4.560405,"ppm":-0.725417,"dist":12.416839,"channel":[38,33,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.559455,11.737514,10.485878,12.416839,0.000000,0.000000,2.946398,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.850847,0.000000,0.000000,0.000000],"msg":[27,0,7,24,4,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,7,0,0,0,0,0,0]},{"count":75,"level_min":-19.755190,"level_max":-6.153902,"ppm":-0.609568,"dist":12.821920,"channel":[36,39,0,0],"radar_a":[9.016976,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.409578,12.413670,12.821920,0.000000,2.946628,0.000000,8.456038,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[45,0,5,22,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":93,"level_min":-19.546732,"level_max":-4.246749,"ppm":-0.087117,"dist":13.374401,"channel":[47,46,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.746920,11.870895,11.465148,13.374401,0.000000,0.000000,2.946677,0.000000,7.412863,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[54,0,12,23,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":93,"level_min":-19.573956,"level_max":-6.200414,"ppm":-0.211569,"dist":14.175553,"channel":[50,43,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.559102,11.736576,11.506802,14.175553,0.000000,0.000000,2.946398,0.000000,0.000000,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[48,0,13,23,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,5,0,0,1,0,0,0]},{"count":88,"level_min":-19.929543,"level_max":-6.126853,"ppm":-0.299216,"dist":13.268295,"channel":[44,44,0,0],"radar_a":[9.016984,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.185617,11.549707,13.268295,13.117237,0.000000,2.946628,0.000000,8.464435,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[46,0,15,24,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]},{"count":78,"level_min":-19.142605,"level_max":-4.840954,"ppm":-0.526769,"dist":13.373057,"channel":[40,38,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.868710,11.586124,13.373057,0.000000,0.000000,2.946512,0.000000,8.483621,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[36,0,11,24,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":98,"level_min":-19.128014,"level_max":-4.104280,"ppm":-0.788336,"dist":12.416107,"channel":[51,47,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.737185,11.614105,12.416107,0.000000,0.000000,2.946020,0.000000,8.518583,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852071,0.000000,0.000000,0.000000],"msg":[45,0,16,24,3,1,0,1,0,0,0,0,0,0,1,0,0,1,0,0,6,0,0,0,0,0,0]},{"count":85,"level_min":-18.396917,"level_max":-5.508513,"ppm":-0.990605,"dist":12.414960,"channel":[44,41,0,0],"radar_a":[9.017392,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208020,10.486222,12.414960,0.000000,0.000000,2.946103,0.000000,8.556853,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[32,0,23,24,4,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":95,"level_min":-19.883978,"level_max":-4.291701,"ppm":-0.819323,"dist":13.372648,"channel":[45,50,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.868731,10.488604,13.372648,0.000000,0.000000,2.986633,0.000000,8.599170,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[40,0,25,24,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":91,"level_min":-19.209778,"level_max":-6.246606,"ppm":-0.674094,"dist":12.412795,"channel":[51,40,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.473603,11.738641,10.546235,12.412795,0.000000,0.000000,2.958258,0.000000,8.642146,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[46,0,15,21,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,4,0,0,1,0,0,0]},{"count":83,"level_min":-19.150249,"level_max":-6.242735,"ppm":-0.683289,"dist":14.176083,"channel":[42,41,0,0],"radar_a":[9.017173,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.604334,11.686386,14.176083,13.106027,0.000000,2.946009,0.000000,8.670520,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[45,0,12,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]},{"count":95,"level_min":-18.605288,"level_max":-4.728977,"ppm":-0.703582,"dist":13.373448,"channel":[50,45,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870290,10.528931,13.373448,0.000000,0.000000,2.986518,0.000000,8.710685,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[52,0,13,23,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":91,"level_min":-19.529003,"level_max":-4.706669,"ppm":-0.721790,"dist":12.413791,"channel":[47,44,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.225571,10.540447,12.413791,0.000000,0.000000,2.945579,0.000000,6.484780,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852554,0.000000,0.000000,0.000000],"msg":[48,0,7,23,5,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,6,0,0,0,0,0,0]},{"count":77,"level_min":-18.909363,"level_max":-6.373193,"ppm":-0.450938,"dist":12.415178,"channel":[40,37,0,0],"radar_a":[9.017575,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.216866,11.829886,12.415178,0.000000,0.000000,2.945809,0.000000,8.843473,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[42,0,8,24,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":94,"level_min":-19.927967,"level_max":-4.341507,"ppm":-0.520218,"dist":13.373897,"channel":[49,45,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.642815,11.869603,10.568064,13.373897,0.000000,0.000000,2.946332,0.000000,8.902957,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[49,0,13,24,7,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},{"count":81,"level_min":-19.357267,"level_max":-6.228848,"ppm":-0.460820,"dist":12.434500,"channel":[43,38,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.564240,11.842615,10.577067,12.434500,11.813544,0.000000,2.946398,0.000000,8.977605,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852082,0.000000,0.000000,0.000000],"msg":[39,0,9,24,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,4,0,0,1,0,0,0]},{"count":83,"level_min":-20.515219,"level_max":-6.436475,"ppm":-0.582190,"dist":13.113004,"channel":[43,40,0,0],"radar_a":[9.019009,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.208174,10.483791,12.716039,13.113004,0.000000,2.946218,0.000000,9.047440,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[47,0,8,24,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0]},{"count":79,"level_min":-19.394682,"level_max":-4.808921,"ppm":-0.666608,"dist":13.373958,"channel":[40,39,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.328762,11.870367,10.632946,13.373958,0.000000,0.000000,2.946218,0.000000,9.067079,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[34,0,13,24,3,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0,0,0,0,0]},{"count":85,"level_min":-19.254728,"level_max":-4.230661,"ppm":-0.776144,"dist":12.434725,"channel":[44,41,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.473603,11.697359,10.484203,12.434725,0.000000,0.000000,2.946103,0.000000,9.168075,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.851023,0.000000,0.000000,0.000000],"msg":[36,0,12,24,4,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,7,0,0,0,0,0,0]},{"count":79,"level_min":-19.503338,"level_max":-6.286340,"ppm":-0.666608,"dist":12.416031,"channel":[43,36,0,0],"radar_a":[9.017591,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.855442,10.684040,12.416031,0.000000,0.000000,3.043111,0.000000,9.275425,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[41,0,7,23,4,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0]},{"count":76,"level_min":-19.623943,"level_max":-4.416432,"ppm":-0.890899,"dist":13.370969,"channel":[38,38,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.870218,10.718465,13.370969,0.000000,0.000000,3.078950,0.000000,9.352146,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],"msg":[40,0,7,23,5,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},"hour":{"time":[0,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15,-16,-17,-18,-19,-20,-21,-22,-23],"stat":[{"count":1803,"level_min":-20.654905,"level_max":-3.993116,"ppm":-0.773849,"dist":14.176077,"channel":[954,849,0,0],"radar_a":[9.014969,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.583665,12.208537,11.812187,14.176077,14.083570,0.000000,3.051857,0.000000,8.454573,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.852661,0.000000,0.000000,0.000000],"msg":[861,0,209,573,75,0,0,8,0,0,0,0,0,0,4,0,0,5,0,0,63,0,0,5,0,0,0]},{"count":5074,"level_min":-20.515219,"level_max":-3.656326,"ppm":-0.639835,"dist":23.830057,"channel":[2599,2475,0,0],"radar_a":[9.019009,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.328762,12.209768,11.829886,14.496791,13.117237,0.000000,3.388356,3.860824,10.265100,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.079352,4.124157,0.000000,0.000000],"msg":[2471,0,774,1385,205,1,0,19,0,0,0,0,0,0,21,0,0,23,0,0,158,0,0,17,0,0,0]},{"count":4487,"level_min":-21.492731,"level_max":-4.257142,"ppm":-0.909520,"dist":14.464112,"channel":[2272,2215,0,0],"radar_a":[9.020437,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.453398,12.210951,10.932429,14.415335,14.464112,0.000000,13.045971,11.808894,9.932123,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.947269,4.449170,4.934322,0.000000],"msg":[1933,0,674,1369,184,0,0,26,0,0,0,0,0,0,10,0,0,108,0,0,154,0,0,29,0,0,0]},{"count":4897,"level_min":-21.013649,"level_max":-4.159110,"ppm":-0.885548,"dist":16.626551,"channel":[2461,2436,0,0],"radar_a":[9.018958,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.744393,12.211133,10.858603,14.178174,14.859689,16.021221,16.626551,3.870082,13.574071,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.939755,4.492136,4.946765,0.000000],"msg":[2289,0,655,1380,205,0,0,27,0,0,0,0,0,0,4,0,0,156,0,0,141,0,0,40,0,0,0]},{"count":5165,"level_min":-20.805784,"level_max":-3.769737,"ppm":-0.824194,"dist":23.830465,"channel":[2658,2507,0,0],"radar_a":[8.992083,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.746224,12.594183,10.968822,14.913609,17.387913,0.000000,3.690354,4.464583,8.440344,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.033119,4.379317,4.459271,4.255963,0.000000],"msg":[2462,0,634,1374,205,0,0,27,0,0,0,0,0,0,7,0,0,245,0,0,159,0,0,52,0,0,0]},{"count":4323,"level_min":-26.045811,"level_max":-4.104461,"ppm":-0.840342,"dist":17.237272,"channel":[2168,2155,0,0],"radar_a":[8.893069,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.005181,12.210048,11.564126,15.198307,17.237272,0.000000,9.789558,9.062706,8.351247,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.047433,4.345151,4.541338,5.158509,0.000000],"msg":[1839,0,484,1380,154,0,0,18,0,0,0,0,0,0,5,0,0,219,0,0,167,0,0,57,0,0,0]},{"count":4050,"level_min":-26.775190,"level_max":-3.999589,"ppm":-0.677939,"dist":14.518094,"channel":[2033,2017,0,0],"radar_a":[8.886994,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,12.210114,10.607083,14.518094,14.273672,0.000000,2.986221,6.389369,8.910962,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.377569,4.578990,0.000000,0.000000],"msg":[1580,0,403,1405,126,0,0,19,0,0,0,0,0,0,12,0,0,269,0,0,166,0,0,65,0,0,5]},{"count":4221,"level_min":-20.031925,"level_max":-3.769204,"ppm":-0.771596,"dist":14.860331,"channel":[2163,2058,0,0],"radar_a":[8.889152,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.745958,12.210756,10.614327,14.181871,14.860331,0.000000,2.986618,3.821818,8.919951,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.091660,4.993090,0.000000,0.000000],"msg":[1827,0,536,1369,173,0,0,15,0,0,0,0,0,0,13,0,0,91,0,0,157,0,0,37,0,0,3]},{"count":3833,"level_min":-20.456339,"level_max":-3.963678,"ppm":-0.831058,"dist":14.861231,"channel":[1942,1891,0,0],"radar_a":[8.897971,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.922091,12.318972,10.562525,14.751143,14.861231,12.272185,3.047806,3.669282,8.918806,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854503,0.000000,0.000000,0.000000],"msg":[1647,0,447,1354,169,0,0,15,0,0,0,0,0,0,12,0,0,16,0,0,155,0,0,18,0,0,0]},{"count":4291,"level_min":-19.908323,"level_max":-4.094791,"ppm":-0.768789,"dist":16.118345,"channel":[2115,2176,0,0],"radar_a":[8.899871,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.939427,12.211370,11.649072,14.765701,13.827375,16.118345,2.986437,0.000000,8.918183,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854027,0.000000,0.000000,0.000000],"msg":[2062,0,428,1416,157,0,0,16,0,0,0,0,0,0,10,0,0,16,0,0,166,0,0,19,0,0,1]},{"count":4363,"level_min":-20.174122,"level_max":-3.966847,"ppm":-0.826863,"dist":15.767039,"channel":[2252,2111,0,0],"radar_a":[8.901805,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.216144,12.211724,10.608736,14.752560,15.767039,0.000000,12.929547,7.690836,8.907689,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853435,0.000000,0.000000,0.000000],"msg":[2123,0,429,1403,187,0,0,17,0,0,0,0,0,0,3,0,0,16,0,0,165,0,0,20,0,0,0]},{"count":4250,"level_min":-19.758169,"level_max":-3.715651,"ppm":-0.787849,"dist":15.931921,"channel":[2177,2073,0,0],"radar_a":[8.914767,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.745831,12.312618,10.816767,14.758688,15.931921,0.000000,2.986308,7.532352,8.905299,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854089,0.000000,0.000000,0.000000],"msg":[2074,0,562,1229,170,0,0,16,0,0,0,0,0,0,2,0,0,17,1,0,163,0,0,16,0,0,0]},{"count":4482,"level_min":-25.161623,"level_max":-3.809122,"ppm":-0.704589,"dist":16.453928,"channel":[2389,2093,0,0],"radar_a":[8.920909,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.746816,12.210493,10.640544,14.751870,16.453928,12.263314,8.853004,9.111382,14.226485,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853784,0.000000,0.000000,0.000000],"msg":[2165,0,595,1290,190,0,0,19,0,0,0,0,0,0,14,0,0,19,1,1,171,0,0,17,0,0,0]},{"count":4454,"level_min":-25.583260,"level_max":-3.755400,"ppm":-0.755858,"dist":18.932446,"channel":[2339,2115,0,0],"radar_a":[8.980578,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.263616,12.210467,10.633273,14.533242,18.932446,12.147681,2.986078,6.385345,11.293058,14.481392],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853208,0.000000,0.000000,0.000000],"msg":[2063,0,578,1401,186,0,0,19,1,0,0,0,0,0,3,0,0,14,0,0,169,1,0,19,0,0,0]},{"count":4555,"level_min":-19.809937,"level_max":-3.636845,"ppm":-0.740496,"dist":17.848078,"channel":[2348,2207,0,0],"radar_a":[8.996374,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.666918,12.587069,10.549496,14.675120,13.531146,0.000000,2.986144,0.000000,8.462754,17.848078],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854843,0.000000,0.000000,0.000000],"msg":[2116,0,606,1408,194,0,0,19,0,0,0,0,0,0,8,0,0,20,0,0,160,0,0,24,0,0,0]},{"count":4639,"level_min":-20.210909,"level_max":-3.838637,"ppm":-0.850279,"dist":14.750025,"channel":[2357,2282,0,0],"radar_a":[8.996762,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.789909,12.585764,11.666713,14.750025,14.337290,0.000000,3.053352,0.000000,8.463220,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853488,0.000000,0.000000,0.000000],"msg":[2317,0,501,1403,185,0,0,15,0,0,0,0,0,0,15,0,0,17,0,0,167,0,0,17,0,0,2]},{"count":5389,"level_min":-19.881123,"level_max":-3.928643,"ppm":-0.718730,"dist":14.749707,"channel":[2838,2551,0,0],"radar_a":[8.974331,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.239717,12.211239,10.613236,14.749707,14.639676,0.000000,6.370141,6.408620,8.427367,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854196,0.000000,0.000000,0.000000],"msg":[2943,0,599,1407,191,0,0,18,0,0,0,0,0,0,18,0,0,20,0,0,171,0,0,22,0,0,0]},{"count":5368,"level_min":-24.159296,"level_max":-3.621550,"ppm":-0.726501,"dist":15.202850,"channel":[2818,2550,0,0],"radar_a":[8.944688,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.061905,12.586606,11.798974,13.036146,15.202850,0.000000,2.947646,6.381253,8.929695,8.858509],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854487,0.000000,0.000000,0.000000],"msg":[2899,0,683,1382,164,0,0,17,0,0,0,0,0,0,20,0,0,20,0,0,163,0,0,20,0,0,0]},{"count":4273,"level_min":-26.421165,"level_max":-3.885529,"ppm":-0.935694,"dist":14.752139,"channel":[2240,2033,0,0],"radar_a":[8.235649,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.028014,12.586120,10.839066,14.752139,14.050123,0.000000,3.928044,6.377205,8.917824,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854548,0.000000,0.000000,0.000000],"msg":[1991,0,508,1392,137,1,0,17,0,0,0,0,0,0,20,0,0,16,0,0,167,1,0,18,0,0,5]},{"count":4642,"level_min":-19.959494,"level_max":-3.790352,"ppm":-0.703801,"dist":16.789492,"channel":[2351,2291,0,0],"radar_a":[8.141212,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.089693,12.212074,11.898730,13.538773,16.789492,0.000000,5.398421,5.669374,8.920262,6.294620],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854908,0.000000,0.000000,0.000000],"msg":[2205,0,653,1404,147,0,0,15,0,0,0,0,0,0,11,0,0,15,0,0,167,0,0,17,0,0,8]},{"count":3540,"level_min":-19.477259,"level_max":-3.842416,"ppm":-0.672293,"dist":18.170015,"channel":[1813,1727,0,0],"radar_a":[8.321626,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,12.212364,10.562753,14.628938,18.170015,0.000000,6.950558,3.640622,8.914104,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853960,0.000000,0.000000,0.000000],"msg":[1500,0,353,1390,83,0,0,14,0,0,0,0,0,0,11,0,0,10,0,0,163,0,0,14,0,0,2]},{"count":2771,"level_min":-19.558535,"level_max":-4.202793,"ppm":-0.816886,"dist":16.825075,"channel":[1420,1351,0,0],"radar_a":[8.243866,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.474625,12.210629,10.523164,14.174059,13.868493,0.000000,16.825075,0.000000,8.911188,8.835349],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854085,0.000000,0.000000,0.000000],"msg":[834,0,282,1391,63,0,0,13,0,0,0,0,0,0,3,0,0,10,0,0,162,0,0,11,0,0,2]},{"count":2680,"level_min":-25.252262,"level_max":-4.148937,"ppm":-0.709345,"dist":16.052465,"channel":[1389,1291,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.565389,12.209847,10.563540,14.176602,16.052465,0.000000,12.455868,0.000000,8.914773,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853898,0.000000,0.000000,0.000000],"msg":[835,0,246,1321,73,0,0,15,0,0,0,0,0,0,3,0,0,13,1,0,155,0,0,17,0,0,1]},{"count":3673,"level_min":-26.144711,"level_max":-3.881721,"ppm":-0.797076,"dist":16.867012,"channel":[1881,1792,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.746584,12.585646,11.739989,14.186643,13.117455,14.951046,16.867012,8.163917,10.426426,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.853842,0.000000,0.000000,0.000000],"msg":[1599,0,419,1348,121,0,0,13,0,0,0,0,0,0,3,0,0,13,0,0,145,0,0,11,0,0,1]}]},"day":{"time":[0,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15,-16,-17,-18,-19,-20,-21,-22,-23,-24,-25,-26,-27,-28,-29,-30,-31,-32,-33,-34,-35,-36,-37,-38,-39,-40,-41,-42,-43,-44,-45,-46,-47,-48,-49,-50,-51,-52,-53],"stat":[{"count":74276,"level_min":-26.775190,"level_max":-3.636845,"ppm":-0.782187,"dist":23.830465,"channel":[38065,36211,0,0],"radar_a":[9.020437,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.328762,12.594183,11.829886,15.198307,18.932446,16.118345,16.626551,11.808894,14.226485,17.848078],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.047433,4.379317,4.993090,5.158509,0.000000],"msg":[34772,0,9114,22546,2956,1,0,313,1,0,0,0,0,0,161,0,0,1271,2,1,2652,1,0,474,0,0,11]},{"count":101576,"level_min":-26.421165,"level_max":-3.504374,"ppm":-0.733484,"dist":23.832037,"channel":[51535,50041,0,0],"radar_a":[8.944688,0.000000,6.934139,9.458138,0.000000,0.000000,0.000000,0.000000,12.348067,12.666477,11.902617,15.211812,18.558344,18.112450,17.442652,15.984412,14.378713,12.795599],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.360085,4.365048,6.252649,5.806766,0.000000],"msg":[50149,0,11731,31515,3122,1,0,461,116,3,0,0,0,0,83,0,1,385,5,1,3552,1,0,397,0,0,53]},{"count":86767,"level_min":-26.817066,"level_max":-3.413451,"ppm":-0.690799,"dist":24.301840,"channel":[42653,44114,0,0],"radar_a":[8.662262,0.000000,6.202735,9.484794,0.000000,0.000000,0.000000,11.883285,11.764761,13.003867,11.798343,15.252279,19.828901,21.334866,9.675508,15.952963,14.292767,12.453094],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.924206,4.702538,4.829151,4.894160,5.378397],"msg":[37067,2,10890,31139,2718,0,0,463,54,0,0,3,0,0,2,0,1,389,2,0,3647,0,0,388,0,0,2]},{"count":81296,"level_min":-28.612894,"level_max":-2.896039,"ppm":-0.651092,"dist":69.359268,"channel":[40566,40730,0,0],"radar_a":[10.057896,6.814464,6.190758,9.542083,0.000000,0.000000,0.000000,0.000000,12.486491,12.741406,11.939928,15.269997,19.544720,18.505033,22.762262,15.103122,14.401777,25.241076],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855370,0.000000,0.000000,0.000000],"msg":[31237,0,10504,31975,2522,0,1,417,256,1,1,7,1,2,17,0,0,377,1,0,3577,1,2,392,0,1,4]},{"count":85564,"level_min":-26.380955,"level_max":-3.428040,"ppm":-0.578138,"dist":34.712753,"channel":[44314,41250,0,0],"radar_a":[25.986235,0.000000,0.000000,12.024479,12.392096,0.000000,0.000000,11.906471,12.316056,34.712753,18.701231,15.049792,20.254168,18.262794,21.391417,16.016445,14.270145,25.249632],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.180812,3.820885,4.423274,0.000000],"msg":[37797,2,10889,30027,2776,1,0,415,18,0,0,1,2,0,12,0,0,357,2,0,2893,0,0,372,0,0,0]},{"count":92336,"level_min":-28.090403,"level_max":-2.973633,"ppm":-0.645642,"dist":25.248758,"channel":[47925,44411,0,0],"radar_a":[8.804273,7.838821,7.093319,11.152198,0.000000,0.000000,0.000000,11.862743,12.524055,12.664667,11.951805,15.294876,21.376261,16.335773,17.621264,16.018410,12.162676,25.248758],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855263,0.000000,0.000000,0.000000],"msg":[44188,2,10732,30381,2680,3,1,305,115,0,1,4,2,0,6,1,1,411,7,1,3079,0,0,414,1,1,0]},{"count":99289,"level_min":-26.608208,"level_max":-2.375661,"ppm":-0.629093,"dist":25.247959,"channel":[52648,46641,0,0],"radar_a":[14.456532,0.000000,7.093221,10.066032,11.953852,0.000000,0.000000,11.846169,12.511704,12.957691,11.937705,15.266741,19.351084,17.199020,19.442066,14.078346,14.406176,25.247959],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.857422,0.000000,0.000000,0.000000],"msg":[48782,0,12947,29688,3359,1,0,521,87,0,3,0,0,0,5,0,0,416,5,0,3037,0,1,428,0,0,9]},{"count":103328,"level_min":-26.208466,"level_max":-1.294332,"ppm":-0.445619,"dist":25.251303,"channel":[53757,49571,0,0],"radar_a":[0.000000,0.000000,7.093090,9.527781,0.000000,0.000000,0.000000,13.388049,12.411400,12.738909,11.936566,14.925632,20.511116,17.284340,18.273762,23.197695,16.311588,25.251303],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.079323,3.964028,4.223293,0.000000],"msg":[53868,0,12446,28107,4529,0,1,584,80,0,1,1,0,0,28,1,0,425,5,0,2811,0,0,431,0,0,10]},{"count":108764,"level_min":-28.295696,"level_max":2.114182,"ppm":-0.533774,"dist":25.671465,"channel":[54061,54703,0,0],"radar_a":[0.000000,0.000000,7.094228,9.460514,0.000000,0.000000,0.000000,12.273428,12.675906,13.089272,11.940229,14.908747,20.629498,21.602295,25.671465,11.136890,16.239958,25.250187],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.755854,0.968572,0.547589,0.363766,0.257143,0.225070,0.248004,0.376655,2.854605,0.731199,0.000000,0.000000],"msg":[52821,1,12554,33425,3874,0,0,651,160,0,3,0,0,0,10,1,0,599,0,0,4066,0,3,593,0,3,0]},{"count":84279,"level_min":-26.582352,"level_max":1.096443,"ppm":-0.645725,"dist":22.657406,"channel":[41752,42527,0,0],"radar_a":[0.000000,0.000000,6.788582,10.693207,0.000000,0.000000,0.000000,12.218333,12.495213,12.995372,11.719467,15.144313,19.482029,22.054688,22.657406,15.484638,14.540987,14.562218],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855081,0.000000,0.000000,0.000000],"msg":[42446,0,7707,26714,2610,0,0,418,58,0,0,0,0,0,6,0,1,348,1,1,3609,0,2,357,0,0,1]},{"count":91990,"level_min":-27.262545,"level_max":2.261773,"ppm":-0.746234,"dist":23.770277,"channel":[47073,44917,0,0],"radar_a":[8.920440,0.000000,0.000000,9.192565,0.000000,0.000000,1.371191,15.813548,15.660247,13.002608,11.822782,15.179176,23.770277,20.377405,21.922926,13.580098,13.858330,16.916922],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855606,0.000000,0.000000,0.000000],"msg":[41807,0,11506,30971,2481,0,0,459,34,0,0,1,0,0,5,1,2,368,2,0,3940,0,0,413,0,0,0]},{"count":90955,"level_min":-26.773930,"level_max":2.022135,"ppm":-0.729497,"dist":66.873413,"channel":[46367,44588,0,0],"radar_a":[24.348629,0.000000,6.518909,10.399963,1.995059,1.772169,1.427815,12.217586,12.592968,17.085732,44.037655,15.031989,66.873413,43.651142,57.862816,31.077999,40.934200,23.462687],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855196,0.000000,0.000000,0.000000],"msg":[39988,0,8928,34134,2651,0,0,409,45,0,2,6,0,0,19,0,0,281,5,0,4118,0,0,308,0,0,61]},{"count":91883,"level_min":-27.325300,"level_max":2.073353,"ppm":-0.872880,"dist":35.093182,"channel":[46467,45416,0,0],"radar_a":[11.948084,7.045743,7.747290,9.242393,0.000000,0.000000,0.000000,12.220867,12.584970,35.093182,11.917985,15.241151,19.604097,21.912024,23.843447,14.299975,14.413935,11.034080],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.066942,0.000000,0.000000,0.000000,0.000000,0.000000,5.948369,5.790187,5.845791,7.539099],"msg":[38084,323,11445,34206,2647,1,1,394,1,1,2,0,2,1,25,0,1,375,7,0,3900,0,0,392,0,0,75]},{"count":78712,"level_min":-27.645901,"level_max":1.857081,"ppm":-0.722725,"dist":23.962929,"channel":[40100,38612,0,0],"radar_a":[8.854217,7.054098,5.773517,8.898361,0.000000,0.000000,0.000000,12.371890,12.686373,12.744758,11.933030,14.874149,19.450649,19.348825,18.249380,14.070224,14.225812,13.956695],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.871444,0.000000,0.000000,0.000000],"msg":[30963,1,7395,33154,2406,0,1,450,67,0,1,0,0,1,9,0,0,294,0,0,3627,0,0,309,0,1,33]},{"count":81431,"level_min":-26.765600,"level_max":0.737247,"ppm":-0.770330,"dist":25.041166,"channel":[41557,39874,0,0],"radar_a":[8.934592,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.031911,12.461327,13.001519,11.801559,15.127735,20.265186,18.225882,25.041166,14.351733,14.314467,10.230116],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.065447,0.000000,0.000000,0.000000,0.000000,5.291237,4.942063,5.399560,5.329447,0.000000],"msg":[30841,1,8532,32408,2768,0,1,382,26,1,0,0,2,1,10,0,0,2119,2,0,3539,0,0,707,0,0,91]},{"count":73136,"level_min":-27.863005,"level_max":3.293700,"ppm":-0.619746,"dist":22.199335,"channel":[37396,35740,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.370733,12.347065,13.030609,11.938150,15.010892,20.455193,18.898937,22.199335,7.293168,14.200184,9.709102],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,3.994381,4.764822,5.733944,4.884055,0.000000],"msg":[30880,3,5651,30269,1916,1,1,347,6,0,0,1,0,0,8,0,0,291,1,1,3506,0,0,206,1,1,46]},{"count":80355,"level_min":-27.051790,"level_max":3.836232,"ppm":-0.625364,"dist":28.077364,"channel":[39425,40930,0,0],"radar_a":[8.954834,0.000000,0.000000,8.629422,0.000000,0.000000,0.000000,12.372313,12.597957,12.475458,11.828658,14.709802,19.914688,17.237553,16.752729,28.077364,14.196170,13.141289],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854085,0.000000,0.000000,0.000000],"msg":[39031,0,5879,29310,1826,2,0,537,91,0,0,0,0,0,9,0,2,67,0,0,3519,1,0,71,1,0,9]},{"count":46461,"level_min":-65.334084,"level_max":1.002981,"ppm":-0.183984,"dist":20.133915,"channel":[23716,22745,0,0],"radar_a":[12.192029,0.000000,0.000000,4.166931,0.000000,0.000000,0.000000,12.029469,11.910695,12.193421,11.719197,14.600700,18.766937,19.584095,13.202553,10.103458,11.751448,10.766390],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854202,0.000000,0.000000,0.000000],"msg":[22420,1,2745,17545,1000,0,0,298,20,0,0,0,0,0,44,0,0,43,0,0,2293,0,0,51,1,0,0]},{"count":77463,"level_min":-64.834099,"level_max":3.831919,"ppm":-0.300900,"dist":24.720884,"channel":[39360,37890,93,120],"radar_a":[21.117214,6.393061,6.199306,4.319165,12.021415,0.000000,0.000000,12.370733,12.576287,12.269911,11.708936,14.902464,23.196415,21.384178,22.592394,18.412207,12.079782,24.720884],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855488,0.000000,0.000000,0.000000],"msg":[43371,0,5593,22343,2107,0,1,545,17,0,0,1,0,1,2,0,2,150,1,0,2949,0,1,165,0,1,213]},{"count":102559,"level_min":-27.011078,"level_max":4.168246,"ppm":-0.577432,"dist":23.075346,"channel":[51885,50668,4,2],"radar_a":[9.991034,6.377997,6.038073,9.517159,12.019233,1.693991,1.435274,12.372872,12.472056,12.591491,11.796747,15.263163,21.841936,20.053858,18.629229,18.407888,14.398200,10.282578],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.733302,4.313345,0.000000,0.000000,0.000000],"msg":[58852,3,8871,26889,2840,0,0,534,13,0,3,0,0,0,454,1,1,234,1,1,3599,0,1,256,0,0,6]},{"count":97318,"level_min":-26.701096,"level_max":3.257775,"ppm":-0.801404,"dist":24.298115,"channel":[47648,49670,0,0],"radar_a":[11.049067,0.000000,7.745109,8.295794,0.000000,0.000000,0.000000,12.371890,12.456742,12.475172,11.794969,14.691361,21.696487,21.207775,22.032118,16.430714,24.298115,15.018318],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,7.636345,4.583375,0.000000,0.000000,0.000000],"msg":[54346,2,7633,26922,2988,1,3,518,25,0,1,0,0,0,588,0,1,309,4,0,3532,0,0,302,0,0,143]},{"count":93191,"level_min":-27.479445,"level_max":3.625889,"ppm":-0.837773,"dist":18.830051,"channel":[46466,46725,0,0],"radar_a":[11.562831,0.000000,7.745896,0.000000,0.000000,0.000000,0.000000,12.219133,11.937214,12.760571,11.799645,14.923956,18.761658,18.830051,17.023216,16.432110,14.471620,11.078128],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,5.163310,5.738424,4.111454,0.000000,0.000000],"msg":[52767,0,5866,26451,2771,1,0,559,1,0,1,0,0,0,150,0,1,412,4,0,3515,0,0,366,0,1,325]},{"count":100158,"level_min":-26.596581,"level_max":4.193686,"ppm":-0.827662,"dist":24.878965,"channel":[49769,50389,0,0],"radar_a":[24.158083,0.000000,0.000000,0.000000,12.016273,0.000000,0.000000,12.371890,12.483123,12.354012,11.782941,14.823274,23.558140,22.481358,24.878965,11.792388,14.222778,11.912319],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,5.228549,4.205118,4.406830,0.000000],"msg":[55836,0,9236,27176,2892,0,1,632,0,0,0,2,0,0,14,2,0,270,2,0,3511,1,0,279,0,0,304]},{"count":92900,"level_min":-26.935230,"level_max":1.589635,"ppm":-0.635767,"dist":23.599297,"channel":[46693,46207,0,0],"radar_a":[10.536666,0.000000,0.000000,4.412527,2.515285,1.768071,1.421916,12.218145,12.462722,12.959738,11.789343,14.983064,20.945448,23.599297,19.012085,21.188925,13.847935,12.795713],"radar_b":[0.000000,0.000000,0.000000,4.440531,2.142789,1.761481,0.000000,0.000000,1.845816,0.000000,0.000000,0.000000,0.000000,0.000000,2.855134,0.000000,0.000000,0.000000],"msg":[49416,0,8600,27015,2890,1,0,556,0,0,2,0,2,0,9,0,0,299,2,0,3510,0,1,323,0,0,274]},{"count":84063,"level_min":-26.438068,"level_max":4.474727,"ppm":-0.616739,"dist":25.280230,"channel":[42384,41679,0,0],"radar_a":[9.430414,6.450397,7.752080,0.000000,12.010590,0.000000,0.000000,11.604583,12.589955,12.897054,11.794317,14.881788,21.872210,19.195602,25.280230,13.366378,14.770549,10.197606],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.242623,0.229752,0.000000,0.000000,2.855786,0.000000,0.000000,0.000000],"msg":[42511,0,7902,26176,2507,0,0,598,98,1,0,0,0,0,4,0,0,264,1,0,3511,0,1,265,0,1,223]},{"count":89874,"level_min":-26.991503,"level_max":3.691997,"ppm":-0.466207,"dist":25.471870,"channel":[45418,44456,0,0],"radar_a":[24.385736,0.000000,7.746887,9.692966,12.018285,0.000000,1.369705,12.215082,12.686373,13.049059,11.816380,15.270510,22.750902,20.777706,25.471870,19.505589,14.309815,17.476646],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.398293,0.000000,0.000000,0.000000,0.000000,0.000000,2.855140,0.000000,0.000000,0.000000],"msg":[47225,2,9009,25797,2975,0,0,605,0,0,2,0,1,0,10,1,1,161,1,1,3525,1,1,203,1,0,352]},{"count":86537,"level_min":-26.156429,"level_max":2.965581,"ppm":-0.601935,"dist":26.691690,"channel":[44131,42406,0,0],"radar_a":[8.575854,0.000000,0.000000,9.396459,12.005134,1.624100,1.418514,12.212757,12.585622,12.588418,11.798625,15.047733,20.579353,19.285439,19.048700,10.159126,26.691690,18.825897],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855546,0.000000,0.000000,0.000000],"msg":[43597,0,9079,25845,3156,1,1,468,20,0,0,1,2,0,7,0,2,254,2,1,3480,0,0,316,0,1,304]},{"count":86583,"level_min":-27.605122,"level_max":3.219000,"ppm":-0.552911,"dist":52.136826,"channel":[43172,43411,0,0],"radar_a":[8.576370,0.000000,6.486914,9.553058,2.625644,1.758405,26.784836,12.425605,12.471156,12.600593,11.828055,15.037186,25.242880,20.892536,19.341391,8.956313,14.224844,13.873700],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,5.794628,4.393348,0.000000,0.000000,0.000000],"msg":[41930,3,10612,25937,3077,0,0,645,182,0,0,1,1,1,1,0,0,192,2,0,3510,2,0,209,1,0,277]},{"count":85011,"level_min":-27.366755,"level_max":3.226939,"ppm":-0.519533,"dist":21.934298,"channel":[41577,43434,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.426436,12.459368,13.023353,11.929175,14.919544,19.763002,21.414003,21.934298,12.328573,14.317128,14.459129],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.367621,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.133300,4.580273,4.393856,4.888350,5.736252],"msg":[42443,1,8113,25824,3353,0,2,326,0,0,0,0,3,0,6,0,0,758,2,1,3501,1,1,422,0,0,254]},{"count":83709,"level_min":-28.239897,"level_max":2.714174,"ppm":-0.508990,"dist":29.883387,"channel":[41045,42664,0,0],"radar_a":[9.453054,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.426269,12.518632,12.741636,11.930928,15.264331,25.138359,20.712679,29.883387,12.598296,14.092686,12.933122],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,4.839335,4.781070,4.301513,0.000000],"msg":[40387,3,9681,25779,3135,0,1,402,0,0,0,1,1,0,7,1,0,254,0,0,3523,0,0,232,0,1,301]},{"count":69643,"level_min":-27.515259,"level_max":0.203385,"ppm":-0.521840,"dist":21.693790,"channel":[33599,36044,0,0],"radar_a":[8.483906,6.380801,6.045080,10.665744,0.000000,0.000000,0.000000,12.426758,12.522972,12.873905,11.770163,15.065485,21.693790,19.886686,21.416260,12.045825,14.259272,12.454101],"radar_b":[0.000000,0.000000,0.000000,3.361460,1.990028,1.617731,1.410007,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855551,0.000000,0.000000,0.000000],"msg":[28154,1,8196,25825,2629,0,0,300,1,0,1,0,1,2,128,0,0,277,3,0,3519,0,1,290,2,0,313]},{"count":68288,"level_min":-27.925793,"level_max":2.633457,"ppm":-0.521490,"dist":21.698233,"channel":[32579,35709,0,0],"radar_a":[15.925177,0.000000,0.000000,9.535543,2.559189,1.754496,1.426635,12.426216,12.517897,12.761640,11.783649,15.159233,20.497646,20.309864,21.698233,11.427552,14.271753,15.667531],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855077,0.000000,0.000000,0.000000],"msg":[27516,0,8210,25680,2265,0,2,338,18,0,0,1,0,0,5,0,1,212,2,2,3501,0,0,242,0,0,293]},{"count":69430,"level_min":-26.572977,"level_max":2.807433,"ppm":-0.511777,"dist":33.556683,"channel":[34415,35015,0,0],"radar_a":[0.000000,0.000000,6.514467,9.535184,12.017251,13.975372,13.928274,12.426034,12.521465,33.556683,11.827682,15.007287,20.545630,17.278046,22.642860,9.187301,9.430528,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855016,0.000000,0.000000,0.000000],"msg":[29409,0,7083,25350,2495,3,0,430,361,1,0,0,0,0,9,0,1,290,2,0,3447,0,0,318,0,2,229]},{"count":70368,"level_min":-26.729242,"level_max":2.196687,"ppm":-0.540159,"dist":24.244947,"channel":[34916,35452,0,0],"radar_a":[0.000000,0.000000,6.507231,10.689362,0.000000,0.000000,0.000000,12.426373,12.517344,12.861076,11.788848,14.975800,19.877649,21.441917,17.246649,9.009491,14.169983,13.628762],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855496,0.000000,0.000000,0.000000],"msg":[30494,1,7625,24984,2667,0,0,379,133,0,0,0,0,0,5,0,0,221,1,0,3431,1,0,248,1,1,176]},{"count":83898,"level_min":-26.735014,"level_max":3.219265,"ppm":-0.638606,"dist":27.888376,"channel":[41410,42488,0,0],"radar_a":[0.000000,0.000000,5.783645,9.613280,0.000000,0.000000,0.000000,12.426932,12.565910,12.598752,11.767255,14.996998,23.210733,19.394310,16.580448,11.435598,11.949045,12.011644],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.855614,0.000000,0.000000,0.000000],"msg":[42047,1,7882,25769,2813,1,1,378,260,1,0,3,0,1,206,1,0,356,4,0,3528,0,2,399,0,2,243]},{"count":86449,"level_min":-26.192638,"level_max":1.799671,"ppm":-0.522516,"dist":19.434061,"channel":[45142,41307,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.427345,12.513201,12.298912,11.819551,15.339421,19.434061,5.169233,16.570698,7.071884,14.203588,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.066744,0.000000,0.000000,0.000000,0.000000,0.000000,5.529088,5.439457,0.000000,0.000000],"msg":[46430,2,6741,25784,2816,0,1,406,2,0,1,0,0,0,108,0,0,200,2,0,3523,0,1,247,0,1,184]},{"count":99740,"level_min":-28.552534,"level_max":3.020890,"ppm":-0.454123,"dist":22.901764,"channel":[50448,49292,0,0],"radar_a":[9.313130,0.000000,6.493368,9.423013,0.000000,0.000000,0.000000,12.427514,12.507399,12.353806,11.792305,14.711046,19.794590,17.440578,22.901764,10.807985,14.012311,14.423130],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.067966,0.000000,0.000000,0.000000,0.000000,0.000000,3.779649,3.388961,0.000000,0.000000],"msg":[57594,0,8602,25691,3001,0,0,475,0,0,0,0,2,0,143,1,2,221,0,0,3563,1,0,284,0,1,159]},{"count":84846,"level_min":-27.575600,"level_max":0.162280,"ppm":-0.462683,"dist":19.173143,"channel":[42486,42360,0,0],"radar_a":[14.671679,0.000000,6.477901,4.393942,2.521143,1.759179,1.426389,12.427536,15.708443,13.011250,11.781924,15.019964,19.173143,18.399385,16.602074,11.601124,13.994082,13.524170],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,11.664230,11.652720,0.000000,9.458689,0.000000,7.619643,0.000000],"msg":[43353,1,7993,25742,2760,0,0,395,0,0,0,0,0,1,175,1,0,324,2,1,3554,0,0,421,2,0,121]},{"count":78204,"level_min":-27.147337,"level_max":-1.107282,"ppm":-0.567505,"dist":27.786909,"channel":[39670,38534,0,0],"radar_a":[7.486225,0.000000,6.216659,9.319284,1.970180,1.766750,1.422867,12.429238,12.554666,12.347268,11.827562,15.250488,19.430237,16.743652,16.805674,11.373150,14.103113,12.990884],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.533364,0.890251,0.000000,0.000000,2.935042,0.000000,8.444872,9.543787],"msg":[35759,1,8757,25788,2748,2,0,341,1,0,2,1,1,0,108,0,1,388,3,1,3555,0,0,439,0,0,308]},{"count":66867,"level_min":-26.927872,"level_max":1.640183,"ppm":-0.413120,"dist":38.858646,"channel":[34550,32317,0,0],"radar_a":[10.897919,0.000000,5.297226,12.008126,2.597577,1.760631,1.416034,12.095605,12.544097,12.671464,11.776934,15.082292,19.153625,38.858646,21.811171,12.355392,13.970959,10.346128],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.535381,10.747458,0.000000,0.000000,2.855260,0.000000,7.448693,0.000000],"msg":[26790,0,7667,25799,2332,2,0,299,1,0,1,0,1,0,12,0,1,136,0,0,3575,1,0,146,0,0,104]},{"count":56955,"level_min":-26.457054,"level_max":1.516525,"ppm":-0.263201,"dist":18.187794,"channel":[28820,28135,0,0],"radar_a":[8.540233,0.000000,6.215759,0.000000,0.000000,0.000000,0.000000,12.026873,12.257737,12.751635,11.818283,14.906062,18.187794,15.997448,17.135036,15.024334,16.633661,13.991823],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.535421,12.055940,12.903470,0.000000,3.888665,4.509055,7.522426,0.000000],"msg":[19355,1,5532,25807,1845,0,0,314,0,1,0,0,0,0,8,0,1,208,3,1,3562,0,0,241,2,0,74]},{"count":62827,"level_min":-26.603418,"level_max":1.819639,"ppm":-0.321556,"dist":22.395617,"channel":[30643,32184,0,0],"radar_a":[8.912936,0.000000,6.697618,9.008165,2.470849,1.751229,1.427762,1.443532,12.510396,12.886522,11.787776,14.926678,19.287617,16.601784,21.579153,11.118217,14.200996,10.696735],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,1.663937,1.362889,0.000000,1.924001,0.000000,10.533486,12.688958,0.000000,0.000000,2.855438,0.000000,0.000000,0.000000],"msg":[23247,1,7086,25780,2060,1,0,357,53,0,1,0,0,1,1,0,0,264,5,2,3593,2,0,288,0,0,85]},{"count":75403,"level_min":-25.876194,"level_max":1.218291,"ppm":-0.176778,"dist":26.533443,"channel":[37735,37668,0,0],"radar_a":[7.865544,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.525444,12.980732,11.839098,15.093167,20.438309,16.579247,26.533443,12.349113,14.564582,14.892276],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.533567,11.289342,19.965570,4.058840,7.297081,5.846259,7.507689,13.089334],"msg":[29256,0,9688,25799,2964,0,0,365,1,0,1,1,2,0,1,0,2,2315,3,0,3582,2,0,1016,0,0,405]},{"count":79967,"level_min":-26.515440,"level_max":1.323060,"ppm":-0.133540,"dist":26.561312,"channel":[40819,39148,0,0],"radar_a":[7.951054,0.000000,6.482313,0.000000,1.999154,1.767193,1.423545,1.427103,12.645368,12.743324,11.778801,15.184962,17.946827,15.943656,26.561312,14.569989,16.180548,9.137193],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.534319,10.946542,13.059487,0.000000,3.567936,5.344365,5.566907,0.000000],"msg":[36366,3,9355,25628,3107,0,1,416,60,0,0,2,0,0,4,0,2,568,6,0,3536,0,0,578,1,1,333]},{"count":73991,"level_min":-28.233555,"level_max":-2.236283,"ppm":-0.179217,"dist":43.035400,"channel":[39059,34932,0,0],"radar_a":[7.957195,0.000000,7.191241,10.683365,12.015625,0.000000,0.000000,11.695643,12.519897,12.555512,11.761380,15.254475,43.035400,16.170383,19.004326,14.280499,13.842027,17.347706],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.533579,12.913820,13.913364,0.000000,2.856730,0.000000,8.119297,0.000000],"msg":[29795,3,10972,25026,3315,0,0,414,0,0,0,0,0,2,2,2,1,380,2,0,3468,1,1,421,1,3,182]},{"count":81682,"level_min":-26.685572,"level_max":0.803465,"ppm":-0.377252,"dist":43.798214,"channel":[42034,39648,0,0],"radar_a":[0.000000,0.000000,7.476112,12.113914,12.011146,0.000000,0.000000,15.741721,15.724454,43.798214,11.945554,15.160055,19.162580,21.957172,22.581720,13.647960,14.505601,14.779107],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.428080,0.000000,0.000000,11.715374,11.794239,0.000000,2.856135,0.000000,8.709093,0.000000],"msg":[36789,1,10166,25842,3429,1,0,388,142,0,0,1,0,2,11,0,1,443,0,0,3561,2,0,496,0,1,406]},{"count":77520,"level_min":-26.738773,"level_max":0.033816,"ppm":-0.305079,"dist":18.476204,"channel":[39469,38051,0,0],"radar_a":[13.820024,0.000000,7.236683,4.418333,2.597678,1.760986,1.426895,12.015607,13.903201,12.863091,11.792145,15.261224,18.476204,16.399416,16.864098,14.070479,14.196932,16.686049],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.532553,0.000000,0.000000,13.328847,12.247687,0.000000,3.046819,0.000000,7.278657,0.000000],"msg":[33937,35,9322,25791,3079,0,1,358,0,0,1,1,0,1,16,0,0,567,2,0,3603,0,0,566,0,1,239]},{"count":76173,"level_min":-26.481636,"level_max":0.954671,"ppm":-0.358555,"dist":22.643318,"channel":[39548,36625,0,0],"radar_a":[6.305039,0.000000,6.691463,0.000000,0.000000,0.000000,0.000000,12.016914,13.910614,12.986680,11.788183,15.232650,22.643318,17.373672,16.840147,14.105218,14.161618,15.871514],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.532476,14.805389,11.331818,0.000000,8.056646,0.000000,0.000000,0.000000],"msg":[31882,0,10312,25454,3351,4,0,290,0,1,0,0,3,1,1,0,0,529,3,0,3485,0,0,539,1,0,317]},{"count":79829,"level_min":-26.134808,"level_max":1.446131,"ppm":-0.250673,"dist":28.004051,"channel":[41478,38351,0,0],"radar_a":[11.177354,0.000000,7.331543,0.000000,0.000000,0.000000,0.000000,12.107873,12.517524,12.876455,11.923559,15.223184,19.182400,16.580378,22.284960,14.141146,11.714581,14.388722],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.532762,0.000000,10.535287,11.437877,12.909326,0.000000,3.046702,4.330893,4.424476,0.000000],"msg":[35210,0,10331,25838,3294,1,0,296,63,0,0,1,0,1,18,0,0,454,3,0,3502,0,0,458,0,0,359]},{"count":72090,"level_min":-25.994123,"level_max":3.145617,"ppm":-0.369670,"dist":23.891169,"channel":[37526,34564,0,0],"radar_a":[12.997581,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,12.016914,12.516198,12.437576,11.801595,15.255594,20.217852,14.160633,16.571589,12.358658,14.311612,13.662057],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.533402,11.657964,12.255660,0.000000,2.855081,0.000000,0.000000,10.370876],"msg":[23346,1,14395,25807,2687,0,0,247,274,1,0,0,0,0,0,0,4,523,7,0,3815,0,0,574,1,2,406]},{"count":78831,"level_min":-27.553423,"level_max":1.380407,"ppm":-0.242855,"dist":21.856422,"channel":[38956,39875,0,0],"radar_a":[11.887830,0.000000,7.747776,0.000000,12.016211,0.000000,1.369147,12.016035,12.584417,13.022113,11.753803,15.274115,19.546503,16.490507,16.654797,14.090255,14.276087,12.671653],"radar_b":[11.887830,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.623674,12.818296,0.000000,0.000000,2.856196,0.000000,7.684547,0.000000],"msg":[34105,1,10646,25703,3256,1,1,326,99,0,1,0,2,2,3,0,0,373,1,1,3495,0,0,396,0,2,417]},{"count":74192,"level_min":-26.350151,"level_max":2.906594,"ppm":-0.461836,"dist":25.264509,"channel":[36966,37226,0,0],"radar_a":[0.000000,0.000000,6.481484,9.450006,0.000000,0.000000,0.000000,12.018233,12.438896,12.463410,11.788438,15.246922,18.544134,21.524107,22.375591,11.432984,12.592554,16.947556],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.889556,0.000000,0.000000,9.172944,0.000000,7.682398,0.000000],"msg":[31482,0,8391,25684,2695,0,2,442,307,1,2,1,0,1,9,0,1,663,6,0,3512,0,0,690,0,0,303]},{"count":44782,"level_min":-29.512711,"level_max":-3.323614,"ppm":-0.479975,"dist":20.311184,"channel":[22739,22043,0,0],"radar_a":[0.000000,0.000000,0.000000,3.249130,2.417243,1.763614,1.406968,1.373916,11.312051,12.815287,11.794775,14.996443,19.614431,16.227835,16.551647,7.635713,9.293196,15.337431],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.934463,0.000000,7.710255,0.000000],"msg":[13519,1,3343,22100,1115,0,0,362,54,1,0,1,0,1,2,0,1,656,3,0,2778,0,0,666,1,1,177]},{"count":4690,"level_min":-24.265137,"level_max":-5.437223,"ppm":-0.384118,"dist":21.003494,"channel":[2425,2265,0,0],"radar_a":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,10.747830,11.296281,11.002090,14.247787,20.146315,9.720846,9.075936,0.000000,9.038151,0.000000],"radar_b":[0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.854725,0.000000,0.000000,0.000000],"msg":[1150,0,369,2530,150,0,0,42,18,0,1,0,0,0,0,0,0,74,1,0,256,0,0,69,0,0,30]}]}}';
            b = JSON.parse(chart_json);
        }
        setPulseOk();

        updateChartMulti(b, 'second', chart_seconds);
        updateChartMulti(b, 'minute', chart_minutes);
        updateChartMulti(b, 'hour', chart_hours);
        updateChartMulti(b, 'day', chart_days);

        updateChartSingle(b, 'minute', 'ppm', chart_ppm_minute);
        updateChartSingle(b, 'hour', 'ppm', chart_ppm);
        updateChartLevel(b, 'minute', 'level', chart_level);

        //plot_radar.options.ticks.scale.max = 200;
        updateChartDistance(b, 'hour', chart_distance_hour);
        updateChartDistance(b, 'day', chart_distance_day);

        updateRadar(b, 'hour', chart_radar_hour);
        updateRadar(b, 'day', chart_radar_day);
    }

    function tableRowClick(m) {
        ship = shipsDB[m].raw;
        if(ship.lat == null || ship.lon == null) return;

        selectMapTab(m);
    }

    function sortTable(e) {

        settings.sort = e.getAttribute('field');
        settings.sort_dir = settings.sort_dir == "asc" ? "dec" : "asc";

        saveSettings();
        updateShipTable()
    }

    async function updateShipTable() {

        await fetchShips();

        const mmsi_sorted =  Object.keys(shipsDB).sort(function (a_mmsi, b_mmsi) {            

            let d1 = shipsDB[a_mmsi].raw[settings.sort];
            let d2 = shipsDB[b_mmsi].raw[settings.sort];

            // Some vessel names start with space, to avoid they end up at the bottom or start of the table
            //if(typeof d1 === "string") d1 = d1.trim();
            //if(typeof d2 === "string") d2 = d2.trim();

            dm = a_mmsi - b_mmsi;
            if (d1 == null || d1 === "") {
                if (d1 === d2) return dm;
                return 1;
            }
            if (d2 === null || d2 === "") return -1;

            if (settings.sort_dir == "asc")
                return d1 < d2 ? -1 : d1 > d2 ? 1 : dm;
            else
                return d1 > d2 ? -1 : d1 < d2 ? 1 : dm;
        });

        c = document.getElementById("shipTableBody"), c.innerHTML = "";

        for (b = 0; b < mmsi_sorted.length; b++) {

            const ship = shipsDB[mmsi_sorted[b]].raw;
            const row = c.insertRow();

            row.setAttribute("mmsi", ship.mmsi);
            row.setAttribute("onclick", "tableRowClick(" + ship.mmsi + ");");

            let nameCell = row.insertCell(0); nameCell.innerHTML = getFlag(ship.country) +  getShipName(ship);

            let valid = "";
            switch(ship.validated) {
                case 1: valid = "Yes"; nameCell.className = "shipcard-validated"; break;
                case -1: valid= "No"; nameCell.className = "shipcard-dubious"; break;
                default: valid = "Pending"; nameCell.className = "shipcard-not-validated-transparant"; break;
            }

            row.insertCell(1).innerHTML = ship.mmsi;
            row.insertCell(2).innerHTML = getCallSign(ship);
            row.insertCell(3).innerHTML = getDeltaTimeVal(ship.last_signal);
            row.insertCell(4).innerHTML = ship.count;
            row.insertCell(5).innerHTML = Number(ship.ppm).toFixed(1);
            row.insertCell(6).innerHTML = Number(ship.level).toFixed(1);

            if (ship.distance != null && ship.bearing != null) {
                row.insertCell(7).innerHTML = getDistanceVal(ship.distance);
                row.insertCell(8).innerHTML = Number(ship.bearing).toFixed(0) +'&deg';
            } else {
                row.insertCell(7).innerHTML = row.insertCell(8).innerHTML = "";
            }

            if (ship.lat != null && ship.lon != null) {
                cell = row.insertCell(9); cell.innerHTML = getLatVal(ship); cell.setAttribute("valid",valid);
                cell = row.insertCell(10); cell.innerHTML = getLonVal(ship); cell.setAttribute("valid",valid);
            } else {
                row.insertCell(9).innerHTML = "";
                row.insertCell(10).innerHTML = "";
            }

            row.insertCell(11).innerHTML = valid;
        }
    }

    function getTooltipContent(ship) {
        return  getFlag(ship.country) + `<b>${getShipName(ship) || "MMSI: " + ship.mmsi}</b><br>${getDeltaTimeVal(ship.last_signal)} ago`;
    }

    function getTypeVal(ship) {
        switch (ship.mmsi_type) {
            case CLASS_A:
                return "Ship (Class A)";
            case CLASS_B:
                return "Ship (Class B)";
            case BASESTATION:
                return "Base Station";
            case SAR:
                return "SAR aircraft"
            case SARTEPIRB:
                return "AIS SART/EPIRB";
            case ATON:
                return "Aid-to-Navigation";
        }
        return "Unknown";
    }

    function getIcon(ship) {

        const STATICON = 0;
        const SHIPICON = 1;
        const PLANEICON = 2;
        const HELICOPTERICON = 3;

        let shipicon = SHIPICON; c = 120;
        switch (getShipTypeClass(ship)) {
            case ShippingClass.CARGO:
                shipicon = SHIPICON; c = 0; break;
            case ShippingClass.TANKER:
                shipicon = SHIPICON; c = 80; break;
            case ShippingClass.PASSENGER:
                shipicon = SHIPICON; c = 40; break;
            case ShippingClass.HIGHSPEED:
                shipicon = SHIPICON; c = 100; break;
            case ShippingClass.SPECIAL:
                shipicon = SHIPICON; c = 60; break;                
            case ShippingClass.FISHING:
                shipicon = SHIPICON; c = 140; break;                                
            case ShippingClass.ATON:
                shipicon = STATICON; c = 0; break;                                
            case ShippingClass.PLANE:
                shipicon = PLANEICON; break;                                
            case ShippingClass.HELICOPTER:
                shipicon = HELICOPTERICON; break;                                
            case ShippingClass.B:
                shipicon = SHIPICON; c = 20; break;                                
            case ShippingClass.STATION:
                shipicon = STATICON; c = 20; break;        
            case ShippingClass.SARTEPIRB:
                c = 60; shipicon = STATICON; break;
        }

        let h = '';

        switch(shipicon) {
            case STATICON: 
                h = '<DIV CLASS="staticon" style="background-position: -' + c + 'px -20px; transform: translate(-4px,-4px);"></DIV>';
                break;
            case SHIPICON: 
                if (ship.speed != null && ship.speed > 0.5 && ship.cog != null) 
                    h = '<DIV CLASS="shipicon" style="background-position: -' + c + 'px 0; transform: translate(-3px,-3px) rotate(' +  ship.cog + 'deg);"></DIV>';
                else
                    h = '<DIV CLASS="shipicon" style="background-position: -' + c + 'px -20px; transform: translate(-4px,-5px);"></DIV>';
                break;
            case PLANEICON: 
                h = '<DIV CLASS="planeicon" style="background-position: 0px 0; transform: translate(-6px,-6px) rotate(' + ship.cog + 'deg);"></DIV>';
                break;
            case HELICOPTERICON: 
                h = '<DIV CLASS="helicoptericon" style="background-position: 0px 0; transform: translate(-6px,-6px) rotate(' +  ship.cog + 'deg);"></DIV>';
                break;
            default:
                console.log("Error: shipicon undefined.");
        }

        return L.divIcon({html: h, className: 'undefined'});
    }

    // Inspired by: https://gis.stackexchange.com/questions/382087/how-to-remove-leaflet-tooltip-label-collision
    function hasOverlap(r1, r2) {
        return (!(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom));
    }

    function addTooltip(rects,m) {
        m.openTooltip();
        const r = m.getTooltip()._container.getBoundingClientRect();

        for (var i = 0; i < rects.length; i++) {
            if (hasOverlap(r, rects[i])) {
                m.getTooltip().toggle();
                return;
            }
        }

        rects.push(r);
    }

    function updateTooltips() {
        if (!settings.labels) return;

        let rects = [];

        if (hover_mmsi in markers) addTooltip(rects,markers[hover_mmsi]);
        if (card_mmsi in markers) addTooltip(rects,markers[card_mmsi]);

        for (let [mmsi, m] of Object.entries(markers)) {
            if (mmsi == card_mmsi || mmsi == hover_mmsi) continue;
            addTooltip(rects,m);
        }
    }

    function startHover(m) {

        if(hover_mmsi != null) endHover(hover_mmsi);

        hover_mmsi = m;

        if(!settings.labels) {
            if(hover_mmsi != null  && hover_mmsi in markers) {
                markers[hover_mmsi].openTooltip();
            }
        }
        else {
            updateTooltips();
        }

        let ship = shipsDB[hover_mmsi].raw;
        plotShip(ship);
    }

    function endHover(m) {
        let ship = shipsDB[hover_mmsi].raw;        
        m = hover_mmsi;
        hover_mmsi = null;

        if(!settings.labels) {
            if(m != null  && m in markers)
                markers[m].closeTooltip();
        }        
        else {
            updateTooltips();
        }
        if(ship) plotShip(ship);
        clearHoverMarker();

    }

    function saveSettings() {

        settings.lat = map.getCenter().lat;
        settings.lon = map.getCenter().lng;
        settings.zoom = map.getZoom();
        
        localStorage.settings = JSON.stringify(settings); 
    }

    function loadSettings() {
            try {
                ls = JSON.parse(localStorage.settings);
            } catch(error) {
                console.log(error);
                return;
            }
            settings = {...settings, ...ls};
    }

    function loadSettingsFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        for (const [key, value] of urlParams.entries()) 
            if(settings.hasOwnProperty(key)) 
                    settings = {...settings, [key]: value};
    }

    function updateShipShape(ship) {
        if (ship.mmsi in ship_shape)
            if (ship_shape[ship.mmsi] != null)
                map.removeLayer(ship_shape[ship.mmsi]);

        ship_shape[ship.mmsi] = drawShipOutline(ship);
    }

    function plotShip(ship) {

        if (ship.mmsi in markers) {
            if(ship.mmsi != hover_mmsi) markers[ship.mmsi].setIcon(getIcon(ship)); // bug in leaflet??
            markers[ship.mmsi].setLatLng([ship.lat, ship.lon]);
            markers[ship.mmsi].getTooltip().setContent(getTooltipContent(ship));

        } else {
            markers[ship.mmsi] = L.marker([ship.lat, ship.lon], { icon: getIcon(ship) }).addTo(map);
            markers[ship.mmsi].on('click', function (e) { showShipcard(ship.mmsi); });
            markers[ship.mmsi].on('mouseover', function (e) { startHover(ship.mmsi); });
            markers[ship.mmsi].on('mouseout', function (e) { endHover(ship.mmsi); });

            markers[ship.mmsi].bindTooltip(getTooltipContent(ship), { opacity: 0.85, permanent: true, offset: [15, 0], direction: 'right' });
            markers[ship.mmsi].closeTooltip();
        }

        updateShipShape(ship);
        if(hover_mmsi == ship.mmsi)
            setHoverMarker([ship.lat, ship.lon]);
    }

    function mapResetView(z) { map.setView(marker_focus.getLatLng(), Math.max(z,map.getZoom())); shipcardMinIfMaxonMobile(); }

    function shipcardVisible() {
        return document.getElementById('shipcard').classList.contains('visible');
    }

    async function showTrack() {

        marker_showtrack = true;
        updateTrack();
        shipcardMinIfMaxonMobile();
    }

    function removeTrack() {
        marker_showtrack = false;
        if (marker_track != null) map.removeLayer(marker_track);
        marker_track = null;

    }
    async function updateTrack() {

        if (card_mmsi in markers)
            if (marker_showtrack) {

                try {
                a = await fetch("path.json?" + card_mmsi);
                path = await a.json()
                }
                catch(error) {
                    console.log("Error loading path: " + error);
                    return;
                }

                removeTrack();

                marker_track = L.featureGroup().addTo(map);
                for (var i = 0; i < Math.min(path.length, 250); i++) {
                    if (i > 0) {
                        var o = Math.max(0.25, 1 - path[i].received / (30 * 60));
                        if (true || path[i].received - path[i - 1].received > 300 || i == path.length - 1 || i == 249) {
                            var m = L.circleMarker([path[i].lat, path[i].lon], { opacity: o, color: '#12a5ed', radius: 1 }).addTo(map);
                            m.bindTooltip(getDeltaTimeVal(path[i].received) + " ago", { opacity: 0.85, permanent: false, offset: [15, 0], direction: 'right' });
                            marker_track.addLayer(m);
                        }

                        var l = new L.polyline([[path[i].lat, path[i].lon], [path[i - 1].lat, path[i - 1].lon]], { color: '#12a5ed', opacity: o });
                        marker_track.addLayer(l);
                    }
                }

                // assume track is more recent than entry in ShipsDB, to avoid elements not in sync
                if (path.length > 0) markers[card_mmsi].setLatLng([path[0].lat, path[0].lon]);

                //shipsDB[card_mmsi].raw.lat = path[0].lat;
                //shipsDB[card_mmsi].raw.lon = path[0].lon;
                //plotShip(shipsDB[card_mmsi].raw);

                marker_showtrack = true;
            }
    }

    function isShipcardMax() {

        var e = document.getElementById('shipcard').classList;
        return e.contains('shipcard-ismax');
    }

    function clearFocusMarker() {
        if (marker_focus != null) {
            map.removeLayer(marker_focus);
            marker_focus = null;
        }
    }

    function setFocusMarker(latlon) {
        if (marker_focus == null) {
            marker_focus = L.circleMarker(latlon, { interactive: false, color: 'red', radius: 20, weight: 4, fillOpacity: 0, pane: "locationMarker", className: "pulse" });
            marker_focus.addTo(map);
        }
        else
            marker_focus.setLatLng(latlon);
    }

    function clearHoverMarker() {
        
        if (marker_hover != null) {
            map.removeLayer(marker_hover);
            marker_hover = null;
        }
        
    }

    function setHoverMarker(latlon) { 
        
        if (marker_hover == null) {
            marker_hover = L.circleMarker(latlon, { interactive: false, color: 'orange', radius: 16, weight: 4, fillOpacity: 0, pane: "locationMarker" });
            marker_hover.addTo(map);
        }
        else
        marker_hover.setLatLng(latlon);        
    }

    function getStringfromMsgType(m) {
        let s = "";
        let delim = "";
        for(i = 1; i <= 27; i++)
            if((m & (1 << i))!=0) {
                s +=  delim  + Number(i).toFixed(0);
                delim = ", ";
            }
        return s;
    }

    function setShipcardValidation(v) {

        document.getElementById('shipcard_header').classList.remove("shipcard-validated","shipcard-not-validated","shipcard-dubious");

        switch(v) {
            case 1:document.getElementById('shipcard_header').classList.add("shipcard-validated"); break;
            case -1: document.getElementById('shipcard_header').classList.add("shipcard-dubious"); break;
            default: document.getElementById('shipcard_header').classList.add("shipcard-not-validated");
        }            
    }

    function populateShipcard() {


        if (! (card_mmsi in shipsDB)) {

            document.getElementById('shipcard_content').querySelectorAll('span:nth-child(2)').forEach(e => e.innerHTML=null);
            document.getElementById('shipcard_header_title').innerHTML = "<b style='color:red;'>Out of range</b>";
            document.getElementById("shipcard_mmsi").innerHTML = card_mmsi;

            clearFocusMarker();
            removeTrack();

            return;
        }

        let ship = shipsDB[card_mmsi].raw;

        document.getElementById('shipcard_header_title').innerHTML = getFlag(ship.country)+ (getShipName(ship) || ship.mmsi);        

        setShipcardValidation(ship.validated);

        // verbatim copies
        ['destination','mmsi','count','imo'].forEach(e => document.getElementById('shipcard_'+e).innerHTML = ship[e]);

        // round and add units
        [   { id: "cog", u: "&deg", d: 0 },
            { id: "heading", u: "&deg", d: 0 },
            { id: "level", u: "dB", d: 1 },
            { id: "ppm", u: "ppm", d: 1 }
        ].forEach(el => document.getElementById("shipcard_"+el.id).innerHTML = ship[el.id]?Number(ship[el.id]).toFixed(el.d)+" "+el.u:null);

        document.getElementById("shipcard_callsign").innerHTML = getCallSign(ship);
        document.getElementById("shipcard_msgtypes").innerHTML = getStringfromMsgType(ship.msg_type);
        document.getElementById('shipcard_type').innerHTML = getTypeVal(ship);
        document.getElementById('shipcard_shiptype').innerHTML = getShipTypeVal(ship.shiptype);
        document.getElementById("shipcard_status").innerHTML = getStatusVal(ship);
        document.getElementById("shipcard_last_signal").innerHTML = getDeltaTimeVal(ship.last_signal);
        document.getElementById("shipcard_eta").innerHTML =  (ship.eta_month != null && ship.eta_hour != null && ship.eta_day != null && ship.eta_minute != null )  ? getEtaVal(ship) : null;
        document.getElementById("shipcard_lat").innerHTML = ship.lat ? getLatVal(ship) : null;
        document.getElementById("shipcard_lon").innerHTML = ship.lon ? getLonVal(ship) : null;

        document.getElementById("shipcard_speed").innerHTML = ship.speed ? getSpeedVal(ship.speed) + " " + getSpeedUnit() : null;
        document.getElementById("shipcard_distance").innerHTML = ship.distance ? getDistanceVal(ship.distance) + " " + getDistanceUnit() : null;
        document.getElementById("shipcard_draught").innerHTML = ship.draught ? getDimensionVal(ship.draught) + " " + getDimensionUnit() : null;
        document.getElementById("shipcard_dimension").innerHTML = (ship.to_bow != null && ship.to_stern != null && ship.to_port != null && ship.to_starboard != null)?getDimensionVal(ship.to_bow + ship.to_stern)+ " " + getDimensionUnit() + " x " + getDimensionVal(ship.to_port + ship.to_starboard) + " "+ getDimensionUnit() :null;
    }

    function shipcardMinIfMaxonMobile() {
        if (shipcardVisible() && window.matchMedia("(max-height: 1000px) and (max-width: 500px)").matches && isShipcardMax()) {
            toggleShipcardSize();
        }
    }

    function showShipcard(m) {

        const aside = document.getElementById('shipcard');
        const visible = shipcardVisible();

        ship = m in shipsDB ? shipsDB[m].raw : null;
        ship_old = card_mmsi in shipsDB ? shipsDB[card_mmsi].raw : null;

        if (m != null && !visible) {
            aside.classList.toggle('visible');
        }
        else if (visible && m == null) {
            aside.classList.toggle('visible');
            clearFocusMarker();
        }

        if (m != card_mmsi || !shipcardVisible()) removeTrack();
        if (shipcardVisible()) setFocusMarker([ship.lat, ship.lon]);

        card_mmsi = m;

        if (ship != null) updateShipShape(ship);
        if (ship_old != null) updateShipShape(ship_old);

        if (shipcardVisible()) {
            populateShipcard();
            if (!map.getBounds().contains(marker_focus.getLatLng())) {
                map.setView(marker_focus.getLatLng());
            }

            if (!visible) shipcardMinIfMaxonMobile();
        }

        updateTooltips();
    }

    async function updateMap() {

        const n = await fetchShips();

        if (n == 0) return;

        if (shipcardVisible()) populateShipcard();

        for (let [mmsi, entry] of Object.entries(shipsDB)) {
            let ship = entry.raw;
            if (ship.lat != null && ship.lon != null && ship.lat != 0 && ship.lon != 0 && ship.lat < 90 && ship.lon < 180) {
                if (settings.setcoord) {
                    map.panTo(new L.LatLng(ship.lat, ship.lon));
                    settings.setcoord = false;
                }
                plotShip(ship)
            }
        }

        for (let [key, m] of Object.entries(markers)) {
            if (!shipsDB.hasOwnProperty(parseInt(key))) {
                if (m != null) map.removeLayer(m);
                delete markers[parseInt(key)];
            }
        }

        for (let [key, m] of Object.entries(ship_shape)) {
            if (!shipsDB.hasOwnProperty(parseInt(key))) {
                if (m != null) map.removeLayer(m);
                delete ship_shape[parseInt(key)];
            }
        }

        updateTooltips();

        if (card_mmsi != null && card_mmsi > 0 && markers[card_mmsi] != undefined) {
            setFocusMarker(markers[card_mmsi].getLatLng());
            updateTrack();
        }
    }

    function refresh_data() {
        if(!document.hidden) {
            if (settings.tab == "map") {
                updateMap();
                map.invalidateSize();
            }
            else if (settings.tab == "stat") updateStatistics();
            else if (settings.tab == "plots") updatePlots();
            else if (settings.tab == "ships") updateShipTable();
        }
    }

    async function openFocus(m, z) {
        await fetchShips();

        selectMapTab(m);
        if (z) mapResetView(z);
        else mapResetView(13);

        showTrack();

    }

    function activateTab(b, a) {

        hideMenuifSmall();

        Array.from(document.getElementById("menubar").children).forEach(e  => e.className = e.className.replace(" active", ""))
        Array.from(document.getElementById("menubar_mini").children).forEach(e  => e.className = e.className.replace(" active", ""))

        tabcontent = document.getElementsByClassName("tabcontent");

        for (i = 0; i < tabcontent.length; i++)
            tabcontent[i].style.display = "none";

        document.getElementById(a).style.display = "block";

        document.getElementById(a+"_tab").className += " active";
        document.getElementById(a+"_tab_mini").className += " active";

        settings.tab = a;
        saveSettings();

        clearInterval(interval);
        refresh_data();
        interval = setInterval(refresh_data, 2500)
    }

    function selectMapTab(m) {

        document.getElementById('map_tab').click();
        if(m in shipsDB)
            showShipcard(m)
    }

    function selectTab() {
        if(settings.tab != "about" && settings.tab != "map" && settings.tab != "plots" && settings.tab != "ships" && settings.tab != "stat") {
            settings.tab = "stat";
            alert("Invalid tab specified");
        }
        document.getElementById(settings.tab+"_tab").click();
    }

    async function loadPlugins() {
        try {
            const response = await fetch('config.js');
            const config = await response.text();
            window.eval(config);
        
        } catch (error) {
            console.error(error);
            alert("Error loading plugins: " + error);
        }
    }

    // for overwrite and insert code where needed
    function main() {
        plugins_main.forEach(function(p){p();});
    }

    function init_preSettings() {}
    function init_postSettings() {}
    function init_postTabsInit() {}

    // add the default tile layers and overlay
    addTileLayer("OpenStreetMap",L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors' }));    
    addTileLayer("Positron",L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>', subdomains: 'abcd', maxZoom: 20 }));
    addTileLayer("Dark Matter", L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>', subdomains: 'abcd', maxZoom: 20 }));
    addTileLayer("Voyager", L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', { attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>', subdomains: 'abcd', maxZoom: 20 }))
    addTileLayer("Satellite", L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community' }));

    addOverlayLayer("OpenSeaMap",L.tileLayer('http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png', { attribution: 'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors', maxZoom: 18 }));
    
    let mdabout = "This content can be defined by the owner of the station";

    console.log("Starting plugin code")

</script>

<script src="config.js"></script>

<script>
    console.log("Plugin loading completed, build string: " + build_string);

    init_preSettings();

    console.log("Load settings")
    loadSettings();

    console.log("Load settings from URL parameters")

    if(settings.loadURL)
        loadSettingsFromURL();

    init_postSettings();

    console.log("Setup tabs");
    initFullScreen();
    initPlots();
    initMap();            
    addLabelControl(); 

    init_postTabsInit();

    console.log("Switch to active tab");
    selectTab();

    let urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('mmsi'))
        openFocus(urlParams.get('mmsi'), urlParams.get('zoom'));

    saveSettings();

    fetchAbout().then(s=>{
        document.getElementById("about_content").innerHTML = marked.parse(s);
    }).catch(error => {
        alert("Error loading about.md: " + error);
        aboutMDpresent = false;
    });
    if(aboutMDpresent == false) 
    {
        document.getElementById("about_tab").style.display = "none";    
        document.getElementById("about_tab_mini").style.display = "none";    
    }
    main();
    
</script>
</body>
</html>
